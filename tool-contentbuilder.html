<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="global-style.css"/>
    <title>Domcell 2024</title>
   
    

<style>
    .popup {
        background-color: #000;
        color: #fff;
        text-align: center;
        position: fixed;
        padding: 20px;
        left: 36%;
        top: 24%;
        font-size: 1.3rem;
        line-height: 34px;
        border: 7px solid #FFF;
        cursor: pointer;
   
    }

    #popup {
        display: none;
    }

    .myloadedtools {
    width: 100%;
    border: none;
    min-height: 1000px;
    height: 92vh;
    padding-top: 0px;
}




.tab {
    float: left;
    width: fit-content;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 2px;
    padding-bottom: 2px;
    background-color: #f7f7f7;
    margin-right: .5%;
    font-size: 0.875rem;
    cursor: pointer;
    font-family: Arial, Helvetica, sans-serif;
    user-select: none;
    opacity: 1;
}

.tab:hover {
opacity: 0.7;

}

.tabselected {
    
}


.width100c {
    width: 100%;
    float: left;
}

.myclostab {
    color: #000;
    font-weight: bold;
    font-size: 1rem;
    float: right;
}

.myclostab:hover {
    color: #fff;
    background-color: red;
    padding: 1px;
}

/* Style the modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: 15% auto; /* 15% from the top and centered */
  padding: 20px;
  border: 1px solid #888;
  width: 15%; /* Could be more or less, depending on screen size */
}

/* The Close Button */
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}


</style>

</head>

<body>


    <div id="confirmDialog" class="modal" style="display:none;">
        <div class="modal-content">
          <span class="close">&times;</span>
          <p><span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span>Are You Sure You want to Delete?</p>
          <button id="yesBtn">Yes</button>
          <button id="noBtn">No</button>
        </div>
      </div>
   

    <div id="popup" class="popup" >

      
In a field of green, under skies so blue,<br>
Snoopy dances, bringing joy anew.<br>
With a laugh, a leap, a joyful prance,<br>
He invites the world to join his dance.<br>
<br>
In his whimsical world, where dreams take flight,<br>
He turns our darkest days to light.<br>
With Woodstock by his side, so small and spry,<br>
Together, they soar, they swoop, they fly.<br>
<br>
His happy dance, a beacon of delight,<br>
Spreads warmth and cheer, making spirits bright.<br>
Snoopy, our joy, in every comic strip scene,<br>
Reminds us all to cherish the simple, the serene.
   
      </div>
 
    <div id="header" class="promo100 header">

<div   class="rightsearch">


<div class="searchblocks"><input id="customsearch" class="mysearch customsearch" type="text"  placeholder="Google Search"></div>
<div class="searchblocks">Google Search:</div>
<div class="searchblocks">||</div>
<div class="searchblocks"><input id="mypcrsearch" class="mypcrsearch customsearch" type="text"  placeholder="PCR Site Search"></div>
<div class="searchblocks">PCR Search:</div>
</div>

      
    </div>

<div class="width100c" style="border-bottom: 2px solid #f7f7f7; margin-left: .5%; width: 98%; margin-top: 53px;padding-top:0px; float: left;">
    <div id="tabinterface"  >
        <div class="tab unselectable-text" interface="0"><span class="changetext" style="margin-right: 10px;" >Untitled</span> <span class="myclostab">X</span></div>
    </div>
    <div id="addwindow" class="tab unselectable-text" style="background-color: transparent; color: #fff; float: left;">+</div>
</div>
  
   
    <div class="promo100 toolcontent">
        
        <embed  id="interface0"  class="myloadedtools" src="overviewcontent-builder-validated.html"></embed>
    
    </div>


  



    <div id="footer" class="promo100 footer"></div>


</body>

</html>

<script src="global.js"></script>

<script>
var interface = 0
var savesession = 0
    let hoverTimer;
    const element = document.querySelector('#footer');
    const popup = document.querySelector('#popup');
    
    element.addEventListener('mouseover', function() {
        hoverTimer = setTimeout(function() {
            fadeIn(popup);
        }, 10000);
    });
    
    element.addEventListener('mouseout', function() {
        clearTimeout(hoverTimer);
    });
    
    popup.addEventListener('mouseover', function() {
        function fadeOut(el) {
            let opacity = 1;
        
            function reduceOpacity() {
                opacity -= 0.05;
                if (opacity <= 0) {
                    opacity = 0;
                    el.style.display = 'none';
                    clearInterval(fading);
                }
                el.style.opacity = opacity;
            }
        
            let fading = setInterval(reduceOpacity, 20);
        }
        
        let popup = document.getElementById('popup');
        fadeOut(popup);
    });
    
    // Function to handle the fadeIn effect
    function fadeIn(el, display = 'block', duration = 400) {
        el.style.opacity = 0;
        el.style.display = display;
        
        let last = +new Date();
        const tick = function() {
            el.style.opacity = +el.style.opacity + (new Date() - last) / duration;
            last = +new Date();
    
            if (+el.style.opacity < 1) {
                (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);
            }
        };
        tick();
    }



    document.querySelectorAll('.tab:not(#addwindow)').forEach(tab => {



      

  tab.addEventListener('click', function() {



    // Hide all elements with the class 'myloadedtools'
    this.style.backgroundColor = '#333'; // Correct way to set background color
    this.style.color = '#fff'; // Correct way to set text color
    document.querySelectorAll('.myloadedtools').forEach(el => {
      el.style.display = 'none';
    });

    // Show the specific element with id 'interface' concatenated with the 'interface' attribute of the clicked tab
    const interfaceId = this.getAttribute('interface');
    
    const interfaceElement = document.getElementById('interface' + interfaceId);
    if (interfaceElement) {
      interfaceElement.style.display = 'block';
    }
  });











  
}); 





// Assuming 'interface' is a global variable initialized somewhere in your script
let interfaceCount = 0; // Replace this with the correct initial value if different

document.getElementById('addwindow').addEventListener('click', function() {

  if(savesession > 0 ) {
  savesession++
  
} else {
  localStorage.clear();
}


  interfaceCount++;

  // Hide all elements with the class 'myloadedtools'
  document.querySelectorAll('.myloadedtools').forEach(el => {
    el.style.display = 'none';
  });

  // Prepend a new div to the 'tabinterface'
  const tabInterface = document.getElementById('tabinterface');
  const newTab = document.createElement('div');
  newTab.className = 'tab unselectable-text';
  newTab.setAttribute('interface', interfaceCount);
  newTab.innerHTML = '<span class="changetext" style="margin-right:10px">Untitled</span> <span class="myclostab">X</span>';
  tabInterface.append(newTab);

  // Append a new embed element to the 'toolcontent'
  const toolContent = document.querySelector('.toolcontent');
  const embed = document.createElement('embed');
  embed.id = 'interface' + interfaceCount;
  embed.className = 'myloadedtools';
  embed.src = 'overviewcontent-builder-validated.html';
  toolContent.appendChild(embed);


  var closeTabs = document.querySelectorAll('.myclostab');
  closeTabs.forEach(function(tab) {
    tab.addEventListener('click', function() {
      //openModal();
    
       whattheclose = this.closest('div').getAttribute('interface');
       var elementToRemove = document.getElementById('interface' + whattheclose);
       if (elementToRemove) {
    elementToRemove.remove();
    var whattheclose2 = whattheclose-1
  
 
    
}

       if (this.parentNode.matches('div')) {
    this.parentNode.remove();
}
    });
  });
  

  // Add click event to all tabs except 'addwindow'
  document.querySelectorAll('.tab:not(#addwindow)').forEach(tab => {
    tab.addEventListener('click', function() {
      // Reset styles for all tabs
      
      document.querySelectorAll('.tab').forEach(el => {
        el.style.backgroundColor = '#f7f7f7';
        el.style.color = '#000';
      });

      this.style.backgroundColor = '#333'; // Correct way to set background color
    this.style.color = 'white'; // Correct way to set text color

      // Hide all '.myloadedtools' elements
      document.querySelectorAll('.myloadedtools').forEach(el => {
        el.style.display = 'none';
      });

      // Show the clicked tab's associated interface
      const interfaceId = this.getAttribute('interface');
      const interfaceElement = document.getElementById('interface' + interfaceId);
      if (interfaceElement) {
        interfaceElement.style.display = 'block';
      }

  
    });
  });


  document.querySelectorAll('.changetext').forEach(tab => {
  tab.addEventListener('dblclick', function() {
    // Make the element editable
    this.setAttribute('contenteditable', 'true');
    this.focus(); // Focus the element to start editing
    // Add a one-time event listener for the 'keydown' event
    this.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault(); // Prevent the default 'Enter' key action (line break)
        this.setAttribute('contenteditable', 'false'); // Make the element non-editable again
        // Optionally, remove focus from the element
        this.blur();
      }
    }, { once: true });
  });


  
});


});







document.querySelectorAll('.changetext').forEach(tab => {
  tab.addEventListener('dblclick', function() {
    // Make the element editable
    this.setAttribute('contenteditable', 'true');
    this.focus(); // Focus the element to start editing

    // Add a one-time event listener for the 'keydown' event
    this.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault(); // Prevent the default 'Enter' key action (line break)
        this.setAttribute('contenteditable', 'false'); // Make the element non-editable again
        // Optionally, remove focus from the element
        this.blur();
      }
    }, { once: true });
  });
});


document.addEventListener('DOMContentLoaded', function() {
  var confirmDialog = document.getElementById('confirmDialog');
  var yesBtn = document.getElementById('yesBtn');
  var noBtn = document.getElementById('noBtn');
  var closeSpan = document.querySelector('.close');


  var whattheclose;

  // Function to open the modal
  function openModal() {
    confirmDialog.style.display = 'block';
  }

  // Function to close the modal
  function closeModal() {
    confirmDialog.style.display = 'none';
  }


  // Attach event listeners to all elements with the class 'myclosetab'
  var closeTabs = document.querySelectorAll('.myclostab');
  closeTabs.forEach(function(tab) {
    tab.addEventListener('click', function() {
      //openModal();
    
       whattheclose = this.closest('div').getAttribute('interface');
       var elementToRemove = document.getElementById('interface' + whattheclose);
       if (elementToRemove) {
    elementToRemove.remove();
}

       if (this.parentNode.matches('div')) {
    this.parentNode.remove();
}
    });
  });

  // When the user clicks on "Yes" button
  yesBtn.addEventListener('click', function() {
    console.log('User clicked Yes');
    closeModal();

    var elementToRemove = document.getElementById('interface' + whattheclose);
if (elementToRemove) {
    elementToRemove.remove();
}

    // Place your 'Yes' logic here
  });

  // When the user clicks on "No" button
  noBtn.addEventListener('click', function() {
    console.log('User clicked No');
    closeModal();
    // Place your 'No' logic here
  });

  // When the user clicks on <span> (x), close the modal
  closeSpan.addEventListener('click', function() {
    closeModal();
  });

  // When the user clicks anywhere outside of the modal, close it
  window.addEventListener('click', function(event) {
    if (event.target === confirmDialog) {
      closeModal();
    }
  });
});



</script>






<!--
Look at you intrepid traveler! looking all under the hood! well then here is your riddle! 

   -- When is a raven like a writting desk? --

if you figure it out you get a prize! well, actually no prize, but wouldnt it be fun to know! 
Everyone enjoys a good easter egg, and tada you found one!
Best wishes Dom
-->

