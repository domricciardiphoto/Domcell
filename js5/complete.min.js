function selectAndHighlightElement(e,t=!1){const i=$("#pullthecode2"),o=$(e);if(o.length&&i.find(o).length){if(clearSelection(),isShiftPressed)o.addClass("explorerselected , multiselected");else{$(".explorerselected, .onblock, .interedit").removeClass("explorerselected onblock interedit"),$(".multiselected").removeClass("multiselected"),o.addClass("explorerselected"),document.getElementById("beautycode").value=html_beautify(document.getElementById("pullthecode3").innerHTML,{indent_size:2,space_in_empty_paren:!0,preserve_newlines:!0,max_preserve_newlines:2});let e=$("#beautycode").val();function a(e){let t=e.indexOf("explorerselected");if(-1===t)return null;let i=e.lastIndexOf("<div",t),o=n(e,i);return-1!==i&&-1!==o?{startIndex:i,endIndex:o}:null}let t=a(e);if(t){let e=document.getElementById("beautycode");e.setSelectionRange(t.startIndex,t.endIndex),e.focus()}function n(e,t){let i=0,o=t;for(;o<e.length;){let t=e.indexOf("<div",o),a=e.indexOf("</div>",o);if(-1!==t&&t<a)i++,o=t+4;else{if(-1===a)break;if(i--,o=a+6,i<=0)return o;o=a+6}}return-1}}if(o.hasClass("liveelement")?o.addClass("interedit"):o.addClass("onblock"),"A"===$(e.explorerIndent).attr("data-tag"))return $(".indentselected").removeClass("indentselected").addClass("indent"),$(e.explorerIndent).addClass("indentselected"),!1;o.click(),$("#contextMenu").hide(),$("#myhtmleditor").val(o.html()),e.explorerIndent&&($(".indentselected").removeClass("indent indentselected").addClass("indent"),$(e.explorerIndent).addClass("indentselected").get(0).scrollIntoView({behavior:"auto",block:"nearest",inline:"start"})),t&&o.get(0).scrollIntoView({behavior:"auto",block:"nearest",inline:"start"}),window.lastSelectedElement=e,$("#mobilehidev2d").is(":visible")&&(desktopHideCheckbox.prop("checked",o.hasClass("hideonlyondesktop")),mobileHideCheckbox.prop("checked",o.hasClass("hideonlyonmobile")))}}function clearSelection(){lastSelectedElement&&(lastSelectedElement.classList.remove("explorerselected"),lastSelectedElement.explorerIndent&&lastSelectedElement.explorerIndent.classList.remove("indentselected"))}function deleteElement(){$(".deleterow").off("click").on("click",function(){debouncedCaptureState();const e=document.querySelectorAll(".explorerselected");e.forEach(e=>{e.classList.add("delete-transition")}),setTimeout(()=>{e.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),debouncedUpdateMobilePreview()},500),$("#clearandrestartbuttonrefresh").click()})}function liverowactivy(){$explorerContainer.on("click",".liverow",function(){$(".onblock").removeClass("onblock"),$(this).addClass("onblock"),$("#desktophidev2d").prop("checked",$(this).hasClass("hideonlyondesktop")),$("#mobilehidev2d").prop("checked",$(this).hasClass("hideonlyonmobile"))})}function atag(t){var i=$(e.target);i.is("a")||(i=i.closest("a")),e.preventDefault();t=i.attr("href");return gotothelinkfunction(t),!1}function releaseMemory(){window.intervalId&&clearInterval(window.intervalId),window.timeoutId&&clearTimeout(window.timeoutId),$(".terminal").append("Memory released<br>"),Array.isArray(window.largeArray)&&(window.largeArray.length=0),"object"==typeof window.largeObject&&Object.keys(window.largeObject).forEach(e=>delete window.largeObject[e])}function checkADACompliance(){const e=document.getElementById("pullthecode2"),t=e.innerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),i=document.createElement("div");i.innerHTML=t,document.body.appendChild(i),axe.run(i,function(e,t){if(e)throw e;const o=document.getElementById("results21aaa"),a=t.violations.filter(e=>"duplicate-id"!==e.id);a.length?a.forEach(e=>{const t=document.createElement("div");t.className="violation";const i=document.createElement("h3");i.textContent=e.id;const a=document.createElement("p");a.textContent=e.description;const n=document.createElement("p");n.innerHTML=`<a class="outsidelink" href="${e.helpUrl}" target="_blank">Learn more</a>`,t.appendChild(i),t.appendChild(a),t.appendChild(n),e.nodes.forEach(e=>{const i=document.createElement("div");i.innerHTML=`<p><strong>Element:</strong> <code>${e.html}</code></p>`,i.innerHTML+=`<p><strong>Target:</strong> ${e.target.join(", ")}</p>`,i.innerHTML+=`<p><strong>Failure Summary:</strong> ${e.failureSummary}</p>`,t.appendChild(i)}),o.appendChild(t)}):o.innerHTML="<p>No accessibility issues found.</p>",document.body.removeChild(i)})}function enabledrop(){$(".droppable").off("droppable").droppable({drop:function(e,t){var i=$(t.draggable).attr("size"),o=$(t.draggable).attr("pale");$(".interedit").removeClass("interedit"),void 0!==i&&""!==i&&$(this).append('<div class="'+i+" in910 layoutpale interedit layoutpale"+o+'"></div>'),debouncedUpdateMobilePreview(),releaseMemory()}})}function editElement(e){captureState();var t=$(e).data("linkedElement");if(!$(t).is(".edit-mode")){var i=$(t).html();null==i&&(i="");var o=$("<textarea>",{class:"editor-input",id:"editor-input22",css:{width:"98%",height:"auto",resize:"vertical"},text:i.trim(),blur:function(){$(t).html($(this).val()).removeClass("edit-mode")},keyup:function(e){"Enter"!==e.key||e.shiftKey||$(this).blur()}});o.on("click",function(e){e.stopPropagation(),e.preventDefault()}),$(t).html(o).addClass("edit-mode"),o.focus()}}function duplicateElement(e){captureState();var t=$(e).data("linkedElement"),i=$(t).clone();$(t).after(i)}function setImportantStyle(e,t,i){e.each(function(){this.style.setProperty(t,i,"important")})}function gotothelinkfunction(e){document.getElementById("myModal").style.display="block",$("#yesBtn").off("click").on("click",function(){e.includes("https://")?(window.open(e,"_blank"),document.getElementById("myModal").style.display="none"):(window.open("https://www.pcrichard.com"+e,"_blank"),document.getElementById("myModal").style.display="none")})}function debounce(e,t,i){var o;return function(){var a=this,n=arguments,l=function(){o=null,i||e.apply(a,n)},c=i&&!o;clearTimeout(o),o=setTimeout(l,t),c&&e.apply(a,n)}}function cleartextarea(){var e=$(".editor-input").val();e&&($(".editor-input").parent().removeClass("edit-mode"),$(".editor-input").replaceWith(e))}function main(){const e=function(e,t){for(let t of e)if("childList"===t.type||"subtree"===t.type){runExplorerDebounced();break}},t={childList:!0,subtree:!0},i=new MutationObserver(e);i.observe(document.querySelector("#pullthecode2"),t)}function captureState(){const e=$("#pullthecode2").html();undoStack.push(e),redoStack=[]}function resetTransitionStyles(){$("#pullthecode2 .delete-transition").each(function(){$(this).removeClass("delete-transition").css("opacity","1")})}function paragraphfunctions(){function e(e){$(".readmoreclampdbutton").on("click",function(){var t=$(this).text();return $("#"+e).toggleClass("expanded"),"Read More"===t?($(this).text("Read Less"),!1):($(this).text("Read More"),!1)})}$("p , h2 , h3 , h4").not(".fr-element p").off("click").on("contextmenu",function(e){e.preventDefault(),$(".interedit").removeClass("interedit"),$(this).parent(".in910").addClass("interedit"),document.getElementById("myModalcontent").style.display="block",$("#yesBtn99").on("click",function(){$(".interedit").empty(),document.getElementById("myModalcontent").style.display="none",$("#findthecode2").text($("#pullthecode2").html())}),$(this).hasClass("clampclassd")&&$("#optionb4").prop("checked",!0),$("#yescopyBtn99").on("click",function(){var e=$(".interedit").children("p").text();navigator.clipboard.writeText(e).then(function(){$(".terminal").append("Text copied to clipboard<br>")}).catch(function(e){$(".terminal").append("Error copying text: ",e+"<br>")}),document.getElementById("myModalcontent").style.display="none"}),$("#closediag99").on("click",function(){document.getElementById("myModalcontent").style.display="none",$("#optionb4").prop("checked",!1)})}),$("#optionb4").on("change",function(){if(this.checked)return $(".interedit p").addClass("clampclassd"),ptagid=$(".interedit p").attr("id"),$(".clampscript").remove(),$("#pullthecode3").append('<div class="width100c layoutpale layoutpale100 liverow clampscript"> <script src="images/pim-content/occontentclamp2024b.js?$staticlink$"></script> </div>'),$(".interedit").find("span.readmoreclampdbutton").remove(),$(".interedit").append('<span class="readmoreclampdbutton" onclick="toggleReadMore(\''+ptagid+"')\">Read More</span>"),e(ptagid),$(".hidescripts").show(),!1;$(".clampscript").remove(),$(".interedit p").removeClass("clampclassd"),$(".interedit").find("span.readmoreclampdbutton").remove()})}function updateSliderValuerow(e){document.getElementById("sliderValuerow").textContent=e}function updateSliderValuecomp(e){document.getElementById("sliderValuecomp1").textContent=e}function clearAppDatabaseGithub(){const e="AppDatabaseGithub",t=indexedDB.open(e);t.onsuccess=function(e){const t=e.target.result,i=t.transaction(t.objectStoreNames,"readwrite");i.oncomplete=function(){$(".terminal").append("All object stores cleared successfully.")},i.onerror=function(e){$(".terminal").append("Transaction failed: ",e.target.errorCode)};for(let e of t.objectStoreNames){const t=i.objectStore(e);t.clear().onsuccess=function(){$(".terminal").append(`Object store "${e}" cleared.`)}}},t.onerror=function(e){$(".terminal").append("Database open failed: ",e.target.errorCode)}}function beautifyHtml(e){var t="\t",i="",o="";return e.split(/>\s*</).forEach(function(e){e.match(/^\/\w/)&&(o=o.substring(t.length)),i+=o+"<"+e+">\n",e.match(/^<?\w[^>]*[^\/]$/)&&!e.startsWith("input")&&(o+=t)}),i.substring(1,i.length-3)}function appendNewContent(e){$(".interedit").append('<div class="htmlonly">'+e+"</div>"),$("#cinput3a").val("")}function setupClearSection(){$(".clearsection").off("click").on("click",function(){$(".interedit").html("")})}function setupContextMenu(){$(".htmlonly").off("click").on("contextmenu",function(e){e.preventDefault(),$(".interedit").removeClass("interedit"),$(this).parent(".in910").addClass("interedit"),$("#myModalcontent").show()})}function setupModalInteractions(){$("#yesBtn99").off("click").on("click",function(){$(".interedit").empty(),$("#myModalcontent").hide(),$("#findthecode2").text($("#pullthecode2").html())}),$("#yescopyBtn99").off("click").on("click",function(){var e=$(".interedit").children("p").text();navigator.clipboard.writeText(e).then(function(){$(".terminal").append("Text copied to clipboard<br>")}).catch(function(e){$(".terminal").append("Error copying text: ",e+"<br>")}),$("#myModalcontent").hide()}),$("#closediag99").off("click").on("click",function(){$("#myModalcontent").hide(),$("#optionb4").prop("checked",!1)})}function mycolorswatch2(){0==colorswatch2?($("#colorswatch2").css("background-color","#333"),headernewcolor2='style="color:#333 !important"',colorswatch2=1):($("#colorswatch2").css("background-color","#034694"),colorswatch2=0,headernewcolor2='style="color:#034694 !important"')}function appendContent(e,t){var i=getRandomFourDigit(1e3,9999),o=$("#cinput1h2").val(),a='<div class="pd-header-tag width100c">';t&&(a+='<div class="icon_box"> </div>'),a+=`<${e} class="t-h4-style in910" ${headernewcolor2} id="ocinsertcontent${i}">${o}</${e}></div>`,$(".interedit").append(a).removeClass("interedit")}function getRandomFourDigit(e,t){return Math.floor(Math.random()*(t-e+1))+e}function getCurrentDateTime(){const e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0"),c=-e.getTimezoneOffset(),r=String(Math.floor(Math.abs(c)/60)).padStart(2,"0"),d=String(Math.abs(c)%60).padStart(2,"0"),s=c<0?"-":"+",u=`${t}-${i}-${o}T${a}:${n}:${l}${s}${r}:${d}`;return u}function createVideoElement(e,t,i,o,a){const n=getCurrentDateTime(),l="https://d2vxgxvhgubbj8.cloudfront.net/videos/7106/",c="https://d2vxgxvhgubbj8.cloudfront.net/thumbnails/7106/",r="https://d2vxgxvhgubbj8.cloudfront.net/subs/7106/",d=`${l}${e}`,s=`${r}${t}`,u=`${c}${i}`,p={"@context":"https://schema.org","@type":"VideoObject",name:o,description:a,thumbnailUrl:u,uploadDate:n,duration:"PT2M",contentUrl:d,embedUrl:d,publisher:{"@type":"Organization",name:"P.C. Richard & Son",logo:{"@type":"ImageObject",url:"https://www.pcrichard.com/images/pim-content/pcrmainlogo.png"}}},m=JSON.stringify(p);return`<video aria-label="Video Player" class="videoPlayer" controls poster="${u}" tabindex="0">\n                <source src="${d}" type="video/mp4">\n                <track kind="captions" label="English" src="${s}" srclang="en">\n                Your browser does not support the video tag.\n            </video>\n            <script type="application/ld+json">\n                ${m}\n            </script>`}function deleteHighlightedText(){document.execCommand("delete",!1,""),redoStack=[]}function undoChange(){if(undoStack.length>0){const e=undoStack.pop();redoStack.push($("#beautycode").html()),$("#beautycode").html(e)}}function gotothelinkfunction(e){document.getElementById("myModal").style.display="block",$("#yesBtn").off("click").on("click",function(){e.includes("https://")?(window.open(e,"_blank"),document.getElementById("myModal").style.display="none"):(window.open("https://www.pcrichard.com"+e,"_blank"),document.getElementById("myModal").style.display="none")})}function updateSliderValuerow(e){document.getElementById("sliderValuerow").textContent=e}function updateSliderValuecomp(e){document.getElementById("sliderValuecomp1").textContent=e}function updateSliderValue33(e){document.getElementById("sliderValue33").textContent=e;var t=(100-e)/2+"%";$(".interedit").css({"max-width":e+"%","margin-left":t}),commonUpdateActions()}function updateSliderValue66(e){document.getElementById("sliderValue66").innerText=e,$(".interedit p").css("font-size",e+"em"),commonUpdateActions()}function updateSliderValue99(e){document.getElementById("sliderValue99").innerText=e,$(".interedit").css("padding",e+"px"),commonUpdateActions()}function updateSliderValue00(e){document.getElementById("sliderValue00").innerText=e,$(".interedit p").css("line-height",e+"px"),commonUpdateActions()}function updateSliderValue11(e){document.getElementById("sliderValue11").innerText=e,$(".interedit").css("border-radius",e+"px"),commonUpdateActions()}function updateSliderValue22(e){document.getElementById("sliderValue22").innerText=e,$(".interedit p").css("margin-top",e+"px"),commonUpdateActions()}function updateSliderValue2(e){document.getElementById("sliderValue2").textContent=e,$(".interedit").css("margin-top",e+"px"),commonUpdateActions()}function updateSliderValue3(e){document.getElementById("sliderValue3").textContent=e,$(".interedit").css({padding:e+"px","max-width":"-webkit-fill-available"}),commonUpdateActions()}function commonUpdateActions(){updateMobilePreview()}function updateSliderValue4(e){document.getElementById("sliderValue4").textContent=e,$(".onblock").css("border-radius",e+"px"),updateMobilePreview()}function updateSliderValue4spacer(e){document.getElementById("rangeSlider4spacer").textContent=e,$(".onblock").css("min-height",e+"px").addClass("customspacer").removeClass("liverow"),updateMobilePreview()}function updateSliderValue_row(e){document.getElementById("sliderValue4_row").textContent=e,$(".onblock").css("margin-top",e+"px"),updateMobilePreview()}async function listAllDriveFiles(e="10VO7M5g_oRnzaZDNSp0zLmL382O5Tn91"){async function t(e,i=[]){let o=a231+a2312+"jVh9Q-kgc",a=await fetch(`https://www.googleapis.com/drive/v3/files?q='${e}'+in+parents&key=${o}`),n=await a.json(),l=n.files||[];for(let e of l)"application/vnd.google-apps.folder"===e.mimeType?await t(e.id,i):i.push(e)}let i=[];await t(e,i),i.sort((e,t)=>e.name.localeCompare(t.name));let o="",a=0,n="",l="";for(let e of i){$("a.googledrive").on("click",function(e){e.preventDefault();var t=$(e.target),i=t.attr("href");atag(i)}),n=e.name.charAt(0).toLowerCase(),n!==l&&(a%3==0&&(0!==a&&(o+="</div>"),o+='<div class="width33cg">'),""!==l&&(o+="</ul>"),o+="<ul>",a++);let t=e.name.replace(".txt","");o+=`<li><div title="Download the file of - ${t} -" style="color:#333; font-size:0.76rem" class="googledrive" mygoogledoc="https://drive.google.com/uc?export=download&id=${e.id}"  return false" download="${e.name}">${t} &#8595;</div></li>`,l=n}o+="</ul>",a%3==0&&0!==a||(o+="</div>"),document.getElementById("driveContents").innerHTML=o,$(".googledrive").on("click",function(){var e=$(this).attr("mygoogledoc"),t=$(this).text();importgoogledoc=e.replace("uc?export=download&id=","file/d/")+"/view",exportgoogledoc=e,$("#googleDocImporterModal3").show(),$("#google-doc-url-input3").val(importgoogledoc),$("#downloadlinkgoogle").attr("href",exportgoogledoc),$("#googledoctitle").text("Templete "+t)})}function updateMobilePreview(){$mobilePreview.html($pullTheCode.html())}function addClickHandler(e,t,i,o,a,n){$(e).on("click",function(){const e=parseInt(document.getElementById(t).textContent),l=$(i).val(),c=$(i).find("option:selected").attr("value2")||"";let r="";for(let t=0;t<e;t++)r+=n(l,c,o);$(a).append(r),commonUpdates(),bindElementClick(),enabledrop()})}function commonUpdates(){enabledrop(),debouncedUpdateMobilePreview()}function bindElementClick(){$(".liveelement").off("click").on("click",function(){$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(this).addClass("explorerselected interedit")})}function layoutHtmlTemplate(e,t,i){return i.includes("in910")?"":`<div class="width${e}c ${t} ${i} layoutpale layoutpale${e} liverow droppable ui-droppable"></div>`}function componentHtmlTemplate(e,t,i){return`<div class="width${e}c ${i} liveelement in910 layoutpale layoutpale${e}"></div>`}function imagefunctions(){$("img.promoimg21").on("contextmenu",function(e){e.preventDefault(),currentImage=$(this),$("#customModal").show()}),$("a img").on("click",function(e){e.preventDefault()}),$(document).on("contextmenu","img.promoimg21",function(e){e.preventDefault(),currentImage=$(this),$("#customModal").show()}),$("#noBtn").click(function(e){e.preventDefault(),$("#myModal").hide()}),$("#beautycode").val($("#pullthecode3").html())}function postimg(){let e=null;$("img.promoimg21").on("contextmenu",function(t){t.preventDefault(),e=$(this),$("#customModal").show()}),$("#closeModal").click(function(){$("#customModal").hide(),e=null}),$("#deleteImage").click(function(){if(e){const t=e.parent("a");e.addClass("delete-transition"),t.length&&t.addClass("delete-transition"),setTimeout(()=>{t.length?t.remove():e.remove(),debouncedUpdateMobilePreview()},500),$("#customModal").hide(),e=null}}),$("#wrapImage").click(function(){$("#customModal").hide(),$("#urlModal").show()}),$("#submitUrl").click(function(){currentImagealt=$(e).attr("alt");const t=$("#imageUrl").val();t&&"http://"!==t&&e&&(0===e.parent("a").length?e.wrap('<a href="'+t+'" aria-label="'+currentImagealt+'"></a>'):e.parent("a").attr("href",t)),$("#urlModal").hide(),e=null}),$("a img").on("click",function(e){e.preventDefault();const t=$(e.target).closest("a");if(t.length){const e=t.attr("href");gotothelinkfunction(e)}})}function pushtomobile(){$("#mobilepreview2").html($(".informationcontent").html()),$("#pullthecode2").slideDown(),$("#mobilepreview2").slideDown(),$("#explorer2").slideDown()}function attachTripleClickHandlerToImportedContent(){const e=document.querySelectorAll(".importedContent");e.forEach(function(e){let t=0,i=null;e.addEventListener("click",function(){t++,1===t?i=setTimeout(function(){t=0},400):3===t&&(e.contentEditable="true",e.focus(),clearTimeout(i),t=0)}),e.addEventListener("keypress",function(e){"Enter"!==e.key&&13!==e.keyCode||e.preventDefault()})})}function clearIndexedDB(){const e="DomcellDB",t="DomcellcontentStore";var i=indexedDB.open(e,1);i.onerror=function(e){$(".terminal").append("Database error: "+e.target.errorCode+"<br>")},i.onupgradeneeded=function(e){var i=e.target.result;i.objectStoreNames.contains(t)||i.createObjectStore(t,{keyPath:"id"})},i.onsuccess=function(e){var i=e.target.result,o=i.transaction([t],"readwrite"),a=o.objectStore(t),n=a.clear();n.onsuccess=function(){$(".terminal").append("IndexedDB data cleared successfully.<br>"),window.clearAndRestartClicked=!0,location.reload()},n.onerror=function(e){$(".terminal").append("Clear operation failed: ",e.target.errorCode+"<br>")}}}function csvToVtt(e,t){let i=t?"WEBVTT\n\n":"";const o=e.split("\n");return o.forEach((e,t)=>{if(e.trim()){const o=e.split(",");if(o.length>=3){const e=o[0].trim(),a=o[1].trim(),n=o.slice(2).join(",").trim();i+=`${t}\n${e} --> ${a}\n${n}\n\n`}}}),i}function downloadVttFile(e,t){const i=new Blob([e],{type:"text/vtt"}),o=URL.createObjectURL(i),a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=o,a.download=t,a.className="outsidelink",a.click(),window.URL.revokeObjectURL(o),document.body.removeChild(a)}function adjustMaxHeight(){$("#pullthecode2").css("max-height",$(window).height()-70),$("#explorer2").css("max-height",$(window).height()-570),$(".internalscroller").css("max-height",$(window).height()-435)}function findNext(){const e=document.getElementById("beautycode"),t=document.getElementById("searchText").value,i=e.value;if(!t)return;if(0===searchResults.length){searchResults=[];let e,o=0;for(;(e=i.toLowerCase().indexOf(t.toLowerCase(),o))>-1;)searchResults.push(e),o=e+t.length;if(0===searchResults.length)return}searchIndex=(searchIndex+1)%searchResults.length;const o=searchResults[searchIndex],a=o+t.length;e.focus(),e.setSelectionRange(o,a)}function resetFind(){searchIndex=-1,searchResults=[]}function bringbackthehomebutton(){if(parent&&parent.document){var e=parent.document.getElementById("headerstart"),t=parent.document.getElementById("add-tab");e&&(e.style.display="block"),t&&(t.style.display="block")}}function notifyParent(){window.parent.postMessage("toggleButtonClick","*")}function openDB(){return new Promise((e,t)=>{const i=indexedDB.open(dbName,1);i.onupgradeneeded=(e=>{const t=e.target.result;t.objectStoreNames.contains(storeName)||t.createObjectStore(storeName,{keyPath:"id"})}),i.onsuccess=(t=>e(t.target.result)),i.onerror=(e=>t(e.target.error))})}function savePosition(e){openDB().then(t=>{const i=t.transaction([storeName],"readwrite"),o=i.objectStore(storeName);o.put({id:"layout",position:e})})}function getPosition(){return new Promise((e,t)=>{openDB().then(i=>{const o=i.transaction([storeName],"readonly"),a=o.objectStore(storeName),n=a.get("layout");n.onsuccess=(t=>{const i=t.target.result?t.target.result.position:null;"programming-first"===i?($(".codechanger").css("right","").css("left","0"),$("#minicoder").css("left","").css("right","4")):($(".codechanger").css("left","").css("right","0"),$("#minicoder").css("right","").css("left","0")),e(i)}),n.onerror=(e=>{$(".terminal").append("Error retrieving position: "+e.target.error),t(e.target.error)})})})}function savePositions(e){const t=db.transaction(["positions"],"readwrite"),i=t.objectStore("positions");e.each(function(e){const t=$(this).attr("id")||`embed-${e}`,o={id:t,marginTop:$(this).css("margin-top")};i.put(o)})}function loadPositions(){const e=db.transaction(["positions"],"readonly"),t=e.objectStore("positions"),i=t.getAll();i.onsuccess=function(e){const t=e.target.result;t.forEach(e=>{const t=$(parent.document.getElementById(e.id));t.length&&t.css("margin-top",e.marginTop)})},i.onerror=function(e){$(".terminal").append("Database error:",e.target.errorCode+"<br>")}}const $explorerContainer=$("#pullthecode2"),$mobilePreview=$("#mobilepreview2"),$pullTheCode=$("#pullthecode2"),desktopHideCheckbox=$("#desktophidev2d"),mobileHideCheckbox=$("#mobilehidev2d"),debouncedUpdateMobilePreview=debounce(updateMobilePreview,500);var $in910=$(".in910");let lastSelectedElement=null,isShiftPressed=!1;document.addEventListener("keydown",function(e){"Shift"===e.key&&(isShiftPressed=!0)}),document.addEventListener("keyup",function(e){"Shift"===e.key&&(isShiftPressed=!1)});var runExplorerDebounced=debounce(function(){function e(a,l=0,c=n){if(!a)return void $(".terminal").append("Invalid element provided to exploreElements<br>");let r=a.children;if(r&&0!==r.length)for(let n=0;n<r.length;n++){let d=r[n].tagName,s=t(r[n]),u=i(d,r[n]),p=o(r[n]),m="";if("a"===r[n].tagName.toLowerCase()&&r[n].hasAttribute("href")){let e=r[n].textContent.trim(),t=r[n].getAttribute("href");m=` <span style="color: #fff;">("${e}") - href: = <span style="color:yellow">${t}</span></span>`}const h=document.createElement("div");h.className="indent",h.style.marginLeft=`${1*l}px`,h.setAttribute("data-tag",s||d),h.innerHTML=`<strong style="color: ${u};">${s||d}</strong>${p}${m}`,c.appendChild(h),$(h).data("linkedElement",r[n]),r[n].explorerIndent=h,h.addEventListener("click",function(){selectAndHighlightElement(r[n])}),r[n].addEventListener("click",function(e){e.stopPropagation(),selectAndHighlightElement(r[n],!0)});const v=new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.forEach(e=>{e===r[n]&&r[n].explorerIndent&&(r[n].explorerIndent.remove(),v.disconnect())})})});v.observe(a,{childList:!0,subtree:!1}),r[n].children.length>0&&e(r[n],l+1,c)}else $(".terminal").append("No children found for element:",a+"<br>")}function t(e){return e.classList.contains("liveelement")?"COMPONENT":e.classList.contains("timekeeper")?"TIME KEAPER ROW":e.classList.contains("timekeeper21")?"SCRIPT FOR DATES":e.classList.contains("liverow")?"ROW":e.classList.contains("customspacer")?"SPACER":e.classList.contains("schemalayer")?"JSON":null}function i(e,t){return t.classList.contains("liverow")?"#007bff":t.classList.contains("liveelement")?"#ffc107":t.classList.contains("customspacer")?"#9c27b0":"#28a745"}function o(e){let t=Array.from(e.classList).filter(e=>!l.includes(e));return t.length>0?`<span style="font-size: smaller;"> (${t.join(" ")})</span>`:""}$("#explorer2").empty();const a=document.getElementById("pullthecode3"),n=document.getElementById("explorer2"),l=["informationcontent","layoutbuilder","sortable","layoutop2","experience-component","experience-pcrs_assets-markup","liveelement","in910","layoutpale","layoutpale33","layoutpale20","layoutpale25","layoutpale40","layoutpale50","layoutpale75","layoutpale60","layoutpale80","layoutpale100","ui-sortable","ui-sortable-disabled","liverow","droppable","ui-droppable","loading-lazy","promoimg21","ui-sortable-handle","interedit","onblock","width50c2","width50c3","timekeeper","timekeeper21","unselectable-text","edit-mode"];e(a)},250);const target=document.getElementById("pullthecode2"),observer=new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&e.explorerIndent&&e.explorerIndent.remove()})})});observer.observe(target,{childList:!0,subtree:!0}),$("#EditandSubmitAL").off("click").on("click",function(){$(".explorerselected").html($("#myhtmleditor").val()),debouncedUpdateMobilePreview()}),$(".draggable").off("draggable").draggable({revert:"valid",start:function(){$("#pullthecode2").css("opacity","0.7")},stop:function(){$("#pullthecode2").css("opacity","1")}}),$(document).on("contextmenu",".indent, .indentselected",function(e){if(e.preventDefault(),$(this).click(),$("#mobilepreview2").animate({opacity:"0"}),$("#contextMenu").css({display:"block",left:"82%",top:"64px"}).data("clickedElement",this),$(".cmenulist").hide(),$("#converterh").hide(),$("#converterh").show(),$("#loadimage").hide(),"IMG"===$(this).data("tag"))$("#contextMenu #edit, #contextMenu #component, #contextMenu #empty, #contextMenu #textarea , #converterh").hide(),$("#loadimage ").show();else if("COMPONENT"===$(this).data("tag"))$("#contextMenu #component , #contextMenu #textarea, #converterh").hide(),$(".cmenulist").hide(),$(".compaddsystem, #contextMenu #edit").show();else if("ROW"===$(this).data("tag"))$(".cmenulist, #converterh").hide(),$(".rowaddsystem").show(),$(" #adder-row-b, #adder-row-a , #contextMenu #edit").show();else if("A"===$(this).data("tag"))$("#contextMenu #component, #contextMenu #empty, #contextMenu #textarea, #converterh").hide();else if("P"===$(this).data("tag"))$("#contextMenu #component, #contextMenu #empty ,#converterh").hide();else if("VIDEO"===$(this).data("tag"))$("#contextMenu #component, #contextMenu #edit, #contextMenu #empty, #contextMenu #textarea, #converterh").hide();else if("SCRIPT"===$(this).data("tag"))$("#contextMenu #component, #contextMenu #edit, #contextMenu #empty, #contextMenu #duplicate, #contextMenu #textarea, #converterh").hide();else if("FIGURE"===$(this).data("tag")||"DIV"===$(this).data("tag"))$("#contextMenu #component,  #contextMenu #empty,  #contextMenu #textarea, #converterh").hide();else if("SCRIPT FOR DATES"===$(this).data("tag"))$("#contextMenu #component,  #contextMenu #empty,  #contextMenu #textarea, #converterh , #contextMenu #duplicate , #contextMenu #edit ").hide();else{if("TEXTAREA"===$(this).data("tag"))return $("#contextMenu #component, #contextMenu #edit, #contextMenu #empty, #contextMenu #duplicate, #duplicate #delete, #converterh").hide(),$("#contextMenu #textarea").show(),!1;"LI"===$(this).data("tag")||"OL"===$(this).data("tag")?$("#contextMenu #component, #contextMenu #empty, #contextMenu #textarea , #converterh").hide():"H1"===$(this).data("tag")||"H2"===$(this).data("tag")||"H3"===$(this).data("tag")||"H4"===$(this).data("tag")||"h1"===$(this).data("tag")||"h2"===$(this).data("tag")||"h3"===$(this).data("tag")||"h4"===$(this).data("tag")||"h5"===$(this).data("tag")?($("#contextMenu #component, #contextMenu #empty, #contextMenu #textarea ").hide(),$("#converterh").show()):"SOURCE"===$(this).data("tag")||"TRACK"===$(this).data("tag")?$("#contextMenu #component, #contextMenu #edit, #contextMenu #empty, #contextMenu #duplicate, #contextMenu #textarea , #converterh").hide():"DIV"===$(this).data("tag")?$("#contextMenu #component, #contextMenu #edit, #contextMenu #empty, #contextMenu #duplicate, #contextMenu #textarea , #converterh").show():$("#contextMenu #edit, #contextMenu #component, #contextMenu #empty, #contextMenu #duplicate").show()}return!1}),$("#contextMenu ul li").click(function(){var e=$(this).attr("id"),t=$("#contextMenu").data("clickedElement");switch(e){case"delete":captureState();var i=$(t).data("linkedElement");$(i).remove(),$(t).remove(),$("#contextMenu").hide(),debouncedUpdateMobilePreview(),$("#clearandrestartbuttonrefresh").click();break;case"duplicate":duplicateElement(t),debouncedUpdateMobilePreview();break;case"converterh":$("#customModalhtag").show(),$("#contextMenu").hide();break;case"component":$("#addrow1x1a").click();break;case"textarea":var o=$(".editor-input").val();$(".editor-input").parent().removeClass("edit-mode"),o&&$(".editor-input").replaceWith(o);break;case"empty":captureState(),$(t).click(),$(".explorerselected").empty(),debouncedUpdateMobilePreview();break;case"close":$("#contextMenu").hide(),$("#mobilepreview2").animate({opacity:"1"});break;case"edit":editElement(t),$("#close").click()}}),$("#closeconverter").on("click",function(){$("#customModalhtag").hide()}),$("#converhtagdoit").on("click",function(){var e=$("#htagselecterh").val().toLowerCase();$(".explorerselected").each(function(){var t=$(this).prop("tagName").toLowerCase();if(t.startsWith("h")){var i=$(this).html(),o=$("<"+e+"/>").html(i).addClass("explorerselected");"h2"===e?o.addClass("t-h4-style c-blue").attr("style","color:#034694 !important"):"h3"===e&&o.addClass("t-h6-style c-blue").attr("style","color:#034694 !important"),$(this).replaceWith(o)}})}),$("#converhtagdoitcolor").on("click",function(){var e=$("#htagselecterh21").val();setImportantStyle($(".explorerselected"),"color",e)}),$("#asdf1").off("click").on("click",function(){add_selection=$("#adder-comp-a").val(),$(".explorerselected").before('<div class="width'+add_selection+"c liveelement in910 layoutpale  layoutpale"+add_selection+'"></div>')}),$("#asdf2").off("click").on("click",function(){add_selection=$("#adder-comp-b").val(),$(".explorerselected").after('<div class="width'+add_selection+"c liveelement in910 layoutpale  layoutpale"+add_selection+'"></div>')}),$("#asdf3").off("click").on("click",function(){
add_selection=$("#adder-row-a").val(),$(".explorerselected").before('<div class="width'+add_selection+"c layoutpale layoutpale"+add_selection+' liverow droppable onblock ui-droppable onblock"></div>')}),$("#asdf4").off("click").on("click",function(){add_selection=$("#adder-row-b").val(),$(".explorerselected").after('<div class="width'+add_selection+"c layoutpale layoutpale"+add_selection+' liverow droppable onblock ui-droppable onblock"></div>')}),$(document).not("#myhtmleditor").on("click",function(){$("#contextMenu").hide(),$(".explorerselected").removeClass("explorerselected"),debouncedUpdateMobilePreview()});var myEfficientFn=debounce(function(){},250);window.addEventListener("resize",myEfficientFn),liverowactivy(),deleteElement(),main(),createnewlist=1,listaddition=0,layoutmode=0,outsidelink=0,outsidelink2=0,outsidelink3=0,choosehtag="0",mylisttype=0;var currentImage,savedSelection,html=$("#pullthecode2").html(),selectedText="",colorswatch=0,colorswatch2=0,headernewcolor="",headernewcolor2='style="color:#034694 !important"',htmlcodeyesno=0,htmlcodeyesno2=0,faqyes=0,mycount=0,addmut=0,whatcheckingsizeview=0;let dmp=new diff_match_patch,previousState=$("#pullthecode2").html(),undoStack=[],redoStack=[];const debouncedCaptureState=debounce(captureState,500);$(".openclose").on("click",function(){var e="."+$(this).attr("openclose");$(".toolboxlayoutoptions, .tools").not(e).hide(),$(e).is(":visible")?($(e).slideUp(),$(this).find(".myindicator").html("+")):($(e).slideDown(),$(this).find(".myindicator").html("-"))}),$(".thetopbox").on("click",function(){whichboxtoopen=$(this).attr("whatbox"),$(".thetopbox").css("background-color","transparent").css("color","#f7f7f7"),$(this).css("background-color","#191818").css("color","#fff"),"Tools"===whichboxtoopen&&($(".internalscroller").show(),$(".toolboxhide").show(),$(".toolboxlayoutoptions").hide(),$("#Importer").hide(),$(".htmlimporter").hide(),$(".myrowbuilder21").hide(),$(".myrowbuilder").hide(),$("#layoutbuilder-oc2").hide(),$("#layoutbuilder-oc").hide(),$(".layoutbuilder-oc").hide(),$(".blogbuilder").hide(),$("#explorerpanel").hide()),"Rows"==whichboxtoopen&&($("#layoutbuilder-oc2").css("display","none"),$(".internalscroller").show(),$(".titlebuilder-oc").hide(),$(".imagebuilder").hide(),$(".videocomponent").hide(),$(".mylinkbuilder").hide(),$(".openclose").hide(),$(".toolboxhide").show(),$(".toolboxlayoutoptions").hide(),$(".layoutbuilder-oc").hide(),$(".myrowbuilder").slideDown(),$("#Importer").hide(),$(".htmlimporter").hide(),$(".blogbuilder").hide(),$("#explorerpanel").hide()),"Import"==whichboxtoopen&&($(".layoutbuilder-oc").hide(),$(".mylinkbuilder").hide(),$(".myrowbuilder").hide(),$(".toolboxlayoutoptions").hide(),$("#layoutbuilder-oc2").css("display","none"),$(".titlebuilder-oc").hide(),$("#Importer").show(),$("#Importer").click(),$(".blogbuilder").hide(),$("#explorerpanel").hide(),$("#layoutbuilder-oc").hide()),"Layout"==whichboxtoopen&&($("#layoutbuilder-oc2").css("display","block"),$(".internalscroller").hide(),$(".toolboxhide").hide(),$(".toolboxlayoutoptions").show(),$("#layoutbuilder-oc").show(),$("#Importer").hide(),$(".htmlimporter").hide(),$(".blogbuilder").hide(),$("#explorerpanel").hide()),"Blog"==whichboxtoopen&&($("#layoutbuilder-oc2").css("display","none"),$(".internalscroller").hide(),$(".toolboxhide").hide(),$(".toolboxlayoutoptions").hide(),$("#Importer").hide(),$(".htmlimporter").hide(),$(".layoutbuilder-oc").hide(),$(".blogbuilder").show(),$("#layoutbuilder-oc").hide(),$("#explorerpanel").hide()),"FileExplorer"==whichboxtoopen&&($("#layoutbuilder-oc2").css("display","none"),$(".internalscroller").hide(),$(".toolboxhide").hide(),$(".toolboxlayoutoptions").hide(),$("#Importer").hide(),$(".htmlimporter").hide(),$(".layoutbuilder-oc").hide(),$("#layoutbuilder-oc").hide(),$("#explorerpanel").show(),$(".toolboxhide").show())});var darkvalue=0;$(".openthematrix").on("click",function(){function e(){$("#mobilepreview2").animate({opacity:"1"}),$("#codeloaderpcrview .width50c2").each(function(){this.style.removeProperty("width")}),$("#mobilepreview2").show().animate({"min-height":$(document).height()/2.288}),$("img.loading-lazy").each(function(){$(this).attr("src",$(this).attr("data-src"))}),$("#results21aaa,  #mymatrix6, #mymatrix3").hide(),u.clearQueue().animate({width:"67%"},200,function(){$(this).css("min-height",$(document).height()-100).css("max-height",$(document).height()-100)}).show(),p.hide().clearQueue().animate({width:"72%"},200).show(),m.show(),$(".stage2, #pullthecode2").show(),w.show(),b.parent("div").show(),b.css("max-height",$(document).height()/1.9).show(),$("#explorer2").animate({"max-height":$(window).height()/2.1}),$("#pullthecode2").animate({"max-height":$(window).height()/1.075}),$("#pullthecode2").animate({"min-height":$(window).height()/1.075})}function t(){var e=document.getElementById("pullthecode3");e&&(e.style.removeProperty("width"),e.style.removeProperty("transform")),$("#mymatrix4").slideDown(),$("#codeloaderpcrview").html(u.html()),w.hide(),p.hide(),$("#fullembedcodeddd").show(),$("#fullinterface").hide(),g.hide(),$("body").css("background-color","#333"),$("#codeloaderpcrview .readmoreclampdbutton").on("click",function(){$(this).prev("p.clampclassd").toggleClass("expanded")}),$(".readmoreclampdbutton").on("click",function(){var e=$(this).text(),t=$(this).prev("p").attr("id");return $("#"+t).toggleClass("expanded"),$(this).text("Read More"===e?"Read Less":"Read More"),!1}),2===whatcheckingsizeview&&$("#pcrmobileview").click()}function i(){$(".stage2, #pullthecode2, #mobilepreview2").hide(),$(".colorlegend").hide(),$("#versionList").parent("div").parent("div").hide(),w.hide(),p.clearQueue().animate({width:"100%"},200),b.hide(),$("#mymatrix9").show(),m.hide(),h.hide(),v.hide().removeClass("bottomclassviewers"),g.hide()}function o(){g.hide(),b.hide(),m.hide(),$(".colorlegend").hide(),$("#hidemainmobile").hide(),$(".htmlimporter").hide(),p.clearQueue().animate({width:"71%"},200,function(){w.show()}),v.removeClass("bottomclassviewers").hide(),h.show();var e=document.getElementById("pullthecode3");e&&(e.style.removeProperty("width"),e.style.removeProperty("transform")),$(".stage2, #pullthecode2, #mobilepreview2").hide(),$("#thisisthefinalcode").show(),$("#results21aaa").show(),$("img.loading-lazy").each(function(){$(this).attr("src","#")}),$("#findthecode2").text(u.html());var t=document.getElementById("thisisthefinalcode"),i=t.textContent||t.innerText,o=i.length;$("#charactercount").html('Character Count <span style="color:yellow">'+o+" </span> - Maximum ECP to Salesforce Characters is 16,000");e=$("#findthecode2");var a=e.text(),n=["liveelement","in910","layoutpale","layoutpale50","liverow"," ui-droppable","droppable","ui-droppable","layoutbuilder","sortable","layoutop2","layoutpale100","layoutpale30","layoutpale20","layoutpale33","onblock","interedit","edit-mode","explorerselected","https://staging-na01-pcrichard.demandware.net/on/demandware.static/-/Library-Sites-PCRichardSharedLibrary/default/dw0d66f82d/","promoimg21","ui--disabled",'style=""',"ui--handle ","ui- ui--handle","unselectable-text","experience-component","experience-pcrs_assets-markup","cursor: grab;","topofpagecontent","https://staging-na01-pcrichard.demandware.net","programoverflow","/on/demandware.static/-/Library-Sites-PCRichardSharedLibrary/default/dw3744730c/","https://www.pcrichard.com/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/dw543ecf73"];n.forEach(function(e){var t;t=e.startsWith("ui-")?new RegExp("(?:^|\\s)"+e+"(?=\\s|$)","g"):new RegExp("\\b"+e+"\\b","g"),a=a.replace(t,"")}),e.text(a.replaceAll("&times;","x").replaceAll("&alpha;","a").replaceAll("&reg;",'<span class="myregd"></span>').replaceAll("&trade;",'<span class="mytraded"></span>').replaceAll("&mdash;","-").replaceAll("&ndash;","-").replaceAll("™",'<span class="mytraded"></span>').replaceAll("®",'<span class="myregd"></span>').replaceAll("°","&deg;")),finalcheck=$("#findthecode2").html(),$("#findthecode2").html(finalcheck.replaceAll("α","a").replaceAll("×","x").replaceAll("–","-").replaceAll("’","'").replaceAll('class="width100c     ui-','class="width100c').replaceAll("&times;","x").replaceAll("&alpha;","a").replaceAll("&reg;",'<span class="myregd"></span>').replaceAll("&trade;",'<span class="mytraded"></span>').replaceAll("&mdash;","--").replaceAll("&ndash;","-").replaceAll("™",'<span class="mytraded"></span>').replaceAll("®",'<span class="myregd"></span>').replaceAll("°","&deg;")),checkADACompliance()}function a(){b.hide(),v.hide(),$(".stage2, #pullthecode2, #mobilepreview2").hide(),$("#hidemainmobile").hide(),$(".colorlegend").hide(),g.show(),m.hide(),h.hide(),listAllDriveFiles()}function n(){const e=$("#pullthecode2");0===darkvalue?(darkvalue=1,e.css("filter","invert(100%)")):(darkvalue=0,e.css("filter","invert(0%)"))}function l(){const e=$(window).height();f.hide(),g.hide(),u.clearQueue().animate({width:"67%"},200).animate({"min-height":$(window).height()-94+"px"},200),p.clearQueue().animate({width:"72%"},200),b.show().clearQueue().animate({"max-height":e},400),m.show(),$(".stage2, #pullthecode2").show(),w.show(),b.parent("div").show(),v.hide()}function c(){$("#mobilepreview2").css("min-height",$(window).height()/2).css("max-height","300"),$("#explorer2").css("min-height",$(window).height()/3.5).css("max-height",$(window).height()/3.5);var e=$("#pullthecode3").html(),t=beautifyHtml(e);g.hide(),w.hide(),m.hide(),$("#mymatrix2").hide(),f.parent("div").hide(),y.val(t),v.css("max-height",$(window).height()-70+"px").removeClass("bottomclassviewers").css("width","44%").css("position","relative"),v.css("height",$(window).height()-70+"px").css("margin-top","0%"),u.css("max-height",$(window).height()-80+"px"),u.css("height",$(window).height()-80+"px"),p.delay(600).animate({width:"100%"},400),u.hide().animate({width:"53%"},400).fadeIn(),v.hide().animate({width:"44%"},400).fadeIn(),y.animate({height:u.height()-60},400).animate({"min-height":u.height()-60},400).animate({"max-height":u.height()-60},400)}function r(){$("#box2u").click(),$("#mobilepreview2").css("opacity","1"),$("#pullthecode2, #resizable-div, #beautycode").hide(),f.show(),$.when(u.clearQueue().animate({"max-height":$(window).height()/2.42},0).animate({"min-height":$(window).height()/2.42},0),p.clearQueue().animate({"max-height":$(window).height()-40},0).animate({"min-height":$(window).height()-40},0),y.clearQueue().animate({"max-height":$(window).height()/2.83},0).animate({"min-height":$(window).height()/2.83},0)).done(function(){$("#pullthecode2, #resizable-div, #beautycode").show()}),b.clearQueue().animate({"max-height":$(window).height()/2.1},400),y.clearQueue().animate({width:"90%"},400).animate({"margin-left":"5%"},400)}function d(){m.hide(),u.clearQueue().animate({"max-height":"400"},200).animate({"min-height":"400"},200),p.clearQueue().animate({"max-height":"50%"},200),v.clearQueue().animate({width:"100%","max-height":"200px"},200).css("margin-top","0%"),y.clearQueue().animate({"max-height":"200px"},200).animate({width:"93%"},200).animate({"margin-left":".5%"},200),v.fadeIn(),u.clearQueue().animate({width:"94%"},200),p.clearQueue().animate({width:"98%"},200).animate({"min-height":$(window).height()/1.8},200),f.parent("div").hide(),w.hide()}function s(){$("#outslidepluginsout").attr("src","help.html"),$("#pluginsandtools").click()}const u=$("#pullthecode2"),p=$("#resizable-div"),m=$("#sidetoolset"),h=$("#mymatrix1"),v=$("#mymatrix3"),g=$("#mymatrix6"),f=$("#mobilepreview2"),w=$("#programming"),b=$("#explorer2"),y=$("#beautycode");h.hide(),$("#myModalcontentviewers").hide(),$("#contextMenu").hide();var x="#"+$(this).attr("mymatrix");switch(x){case"#mymatrix2":e();break;case"#mymatrix4":t();break;case"#mymatrix9":i();break;case"#mymatrix1":o();break;case"#mymatrix6":a();break;case"#mymatrix-dark":n();break;case"#mymatrix-hmobile":l();break;case"#mymatrix3":c();break;case"#mymatrix-codeview":r();break;case"#mymatrix-review":d();break;case"#mymatrix7":s();break;default:$(".terminal").append("Unknown matrix:",x+"<br>")}}),$("#showversioningmodal").on("click",function(){$("#versioningmodalshow").show()}),$("#CloseVersionModal").on("click",function(){$("#versioningmodalshow").fadeOut()}),$("#pcrdesktopview").on("click",function(){whatcheckingsizeview=0,$("#fullembedcodeddd2").animate({width:"1024px"}),$("#codeloaderpcrview .width50c2").each(function(){this.style.removeProperty("width")}),$("#fullembedcodeddd").css("max-width","none").css("margin-left","0%"),$(".morebutt").not("#closeembed").css("background-color","#fff").css("color","#333"),$(this).css("background-color","#333").css("color","#fff"),$("body").css("background-color","#333"),$("#codeloaderpcrview").find(".makeit100now").each(function(){$(this).removeClass("makeit100now")}),$("#codeloaderpcrview").find(".makeit50now").each(function(){$(this).removeClass("makeit50now")}),$("#codeloaderpcrview").find(".hideonlyonmobile").each(function(){$(this).show()}),$("#codeloaderpcrview").find(".hideonlyondesktop").each(function(){$(this).hide()}),$("#fullembedcodeddd2").resizable({minWidth:1024}),$("#fullembedcodeddd2").animate({"max-height":"900"})}),$("#pcrtabletview").on("click",function(){whatcheckingsizeview=1,$("#fullembedcodeddd2").animate({width:"768px"}),$("#codeloaderpcrview .width50c2").each(function(){this.style.removeProperty("width")}),$("#fullembedcodeddd").css("max-width","769px").css("margin-left","6%"),$(".morebutt").not("#closeembed").css("background-color","#fff").css("color","#333"),$(this).css("background-color","#333").css("color","#fff"),$("body").css("background-color","#333"),$("#codeloaderpcrview").find(".makeit100now").each(function(){$(this).removeClass("makeit100now")}),$("#codeloaderpcrview").find(".makeit50now").each(function(){$(this).removeClass("makeit50now")}),$("#codeloaderpcrview").find(".hideonlyonmobile").each(function(){$(this).show()}),$("#codeloaderpcrview").find(".hideonlyondesktop").each(function(){$(this).hide()}),$("#fullembedcodeddd2").resizable({minWidth:768}),$("#fullembedcodeddd2").animate({"max-height":"800"})}),$("#pcrmobileview").on("click",function(){whatcheckingsizeview=2,$("#fullembedcodeddd2").animate({width:"390px"}),$("#fullembedcodeddd2").animate({"max-height":"500px"}),$("#fullembedcodeddd").css("max-width","400px").css("margin-left","7.85%"),$(".morebutt").not("#closeembed").css("background-color","#fff").css("color","#333"),$(this).css("background-color","#333").css("color","#fff"),$("body").css("background-color","#333"),$("#codeloaderpcrview").find(".width50c2").each(function(){$(this).addClass("makeit100now")}),$("#codeloaderpcrview").find(".width50c3").each(function(){$(this).addClass("makeit50now")}),$("#codeloaderpcrview").find(".hideonlyonmobile").each(function(){$(this).hide()}),$("#codeloaderpcrview").find(".hideonlyondesktop").each(function(){$(this).show()}),$("#fullembedcodeddd2").resizable({minWidth:320}),$("#codeloaderpcrview .width50c2").each(function(){this.style.setProperty("width","98%","important")})}),$("#closeembed").on("click",function(){$("#mymatrix4").hide(),$("#programming").show(),$("#resizable-div").show(),$("#firstmatrix").click(),$("#fullembedcodeddd").hide(),$("#fullinterface").show(),$("body").css("background-color","#333"),$("#codeloaderpcrview").find(".width50c2").each(function(){$(this).addClass("makeit100now")}),$("#codeloaderpcrview").find(".width50c3").each(function(){$(this).addClass("makeit50now")})}),$("#whatsnewwb").on("click",function(){$("#pluginsandtools").click(),$("#outslidepluginsout").attr("src","release-notes.html")}),$(".outsideplugins").on("click",function(){wto=$(this).attr("whaturl"),$("#outslidepluginsout").attr("src",wto),$(".outsideplugins").css("background-color","#000"),$(this).css("background-color","#333")}),document.getElementById("mytoolsview").addEventListener("change",function(){this.checked?($("#programming").addClass("fullscreend").hide(),$("#resizable-div").delay(500).animate({width:"100%"},500),$("#legend").hide(),$(".hamburger").show(),$(".textaligner svg").css("width","100%"),$(".hideinfullscreen").hide(),$(".imgbuild").css("width","96%")):($(".textaligner svg").css("width","40%"),$(".hamburger").hide(),$(".fullscreenmode").css("padding","1% "),$("#resizable-div").css("width","70%"),$("#programming").removeClass("fullscreend").fadeIn(),$(".internalscroller").css("max-height","725px").css("overflow-y","auto"),$("#legend").show(),$(".hideinfullscreen").show(),$(".mymobile , #pullthecode2").css("float","left"),$(" #pullthecode2").css("width","68%"),$(".imgbuild").css("width","98%"))}),$(".hamburger").on("click",function(){$("#programming").slideToggle()}),document.getElementById("mysort").addEventListener("change",function(){this.checked?($("#pullthecode3").sortable({disabled:!1}),$(".informationcontent").children().css("cursor","grab")):($("#pullthecode3").sortable({disabled:!0}),$(".informationcontent").children().css("cursor",""),$("#clearandrestartbuttonrefresh").click())}),document.getElementById("mysortcomponents").addEventListener("change",function(){const e=$("div.layoutpale").not("h2 , p");this.checked?e.sortable({disabled:!1}):(e.sortable({disabled:!0}),e.sortable("disable"),$(".informationcontent").children().css("cursor",""),$("#clearandrestartbuttonrefresh").click())}),$("#clearandrestartbuttonrefresh").on("click",function(){location.reload()}),$(".pcrcloseicon").on("click",function(){$("#codeloaderpcrview").toggle()}),$("#versionList").on("change",function(){$("#revertVersionBtn").click(),clearAppDatabaseGithub()}),$(".hover-item").each(function(){var e;$(this).hover(function(){clearTimeout(e),$(this).find(".popup").removeClass("hidden").addClass("visible")},function(){var t=$(this).find(".popup");e=setTimeout(function(){t.removeClass("visible").addClass("hidden")},300)})}),$(".clearsection").on("click",function(){captureState(),$(".explorerselected").empty()}),document.getElementById("mobilehidev2d").addEventListener("input",function(){this.checked?($(".explorerselected").addClass("hideonlyonmobile"),updateMobilePreview()):($(".explorerselected").removeClass("hideonlyonmobile"),updateMobilePreview())}),document.getElementById("desktophidev2d").addEventListener("input",function(){this.checked?($(".explorerselected").addClass("hideonlyondesktop"),updateMobilePreview()):($(".explorerselected").removeClass("hideonlyondesktop"),updateMobilePreview())}),$(".texttype").off("click").on("click",function(){captureState();var e=window.getSelection();if(e.rangeCount){var t=e.toString(),i=$(this).val(),o="",a="<"+i+" "+o+">"+t+"</"+i+">",n=e.getRangeAt(0),l=n.startContainer.nodeValue,c=l.substring(0,n.startOffset),r=l.substring(n.endOffset,l.length),d=document.createDocumentFragment();d.appendChild(document.createTextNode(c)),d.appendChild(n.createContextualFragment(a)),d.appendChild(document.createTextNode(r)),n.startContainer.nodeValue="",n.insertNode(d),e.removeAllRanges(),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}}),$("#colorDisplay").off("click").on("click",function(){captureState();var e=window.getSelection();if(e.rangeCount){var t=e.toString(),i="span style='color:"+$(this).css("background-color")+"'",o="",a="<"+i+" "+o+">"+t+"</"+i+">",n=e.getRangeAt(0),l=n.startContainer.nodeValue,c=l.substring(0,n.startOffset),r=l.substring(n.endOffset,l.length),d=document.createDocumentFragment();d.appendChild(document.createTextNode(c)),d.appendChild(n.createContextualFragment(a)),d.appendChild(document.createTextNode(r)),n.startContainer.nodeValue="",n.insertNode(d),e.removeAllRanges(),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}}),$("#colorPickerManuelactivate").off("click").on("click",function(){captureState();var e=window.getSelection();if(e.rangeCount){var t=e.toString(),i="span style='color:"+$("#colorPickerManuel").text()+"'",o="",a="<"+i+" "+o+">"+t+"</"+i+">",n=e.getRangeAt(0),l=n.startContainer.nodeValue,c=l.substring(0,n.startOffset),r=l.substring(n.endOffset,l.length),d=document.createDocumentFragment();d.appendChild(document.createTextNode(c)),d.appendChild(n.createContextualFragment(a)),d.appendChild(document.createTextNode(r)),n.startContainer.nodeValue="",n.insertNode(d),e.removeAllRanges(),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}}),$(".textaligner3").off("click").on("click",function(){captureState();var e=window.getSelection();if(e.rangeCount>0){var t=e.getRangeAt(0),i=document.createElement("br");t.insertNode(i),$(".interedit").contents().filter(function(){return 3===this.nodeType&&""!==$.trim(this.nodeValue)}).wrap("<p></p>")}$(".interedit").html();$("#myhtmleditor").val(""),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$(".textaligner").off("click").on("click",function(){var e=$(".interedit"),t=$(this).attr("cssadd");e.css("text-align",t),e.find("p, .pd-header-tag").css("text-align",t),e.find(".pd-header-tag").css({"text-align":t,"line-height":"116%"}),e.find(".pd-header-tag h2, .pd-header-tag h3").attr("style",function(e,t){return(t||"")+"; margin-bottom: 0px !important;"});var i=e.html();$("#myhtmleditor").val(i),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$(".ipsom").on("click",function(){ipsom="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit dom is great esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",$("#cinput3a").val(ipsom)}),$("#cinput3-comp").on("click",function(){captureState();var e=$("#cinput3a").val();if(""===e)return!1;var t=1e3,i=9999,o=Math.floor(Math.random()*(i-t+1))+t;return 0===htmlcodeyesno&&0===htmlcodeyesno2?($(".interedit").append('<p id="ptag'+o+'">'+e+"</p>"),$("#cinput3a").val("")):(appendNewContent(e),setupClearSection(),setupContextMenu(),setupModalInteractions()),paragraphfunctions(),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html()),!1}),$("#textaligner2 , #textaligner2a , #textaligner2b").on("change",function(){var e=$(this).val();$(".interedit").removeClass("addpadding0 addpadding10 addpadding20 addpadding40 addpadding60 addpadding80 addpadding100").addClass(e),editorcopy=$(".interedit").html(),$("#myhtmleditor").val(editorcopy)}),$("#choosehtag").on("change",function(){choosehtag=$(this).val()}),$(document).on("input","#faqyes",function(){faqyes=this.checked?1:0}),$("#colorswatch").on("click",function(){mycolorswatch()}),$("#colorswatch2").on("click",function(){mycolorswatch2()}),$("#cinput1-clickh2-comp").on("click",function(){if(""===$("#cinput1h2").val())return!1;switch(choosehtag){case"0":appendContent("h2",1===faqyes);break;case"2":appendContent("h4",1===faqyes);break;default:appendContent("h3",!1)}$("#cinput1h2").val(""),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),document.getElementById("linktooutside").addEventListener("change",function(){this.checked?outsidelink=1:outsidelink=0}),document.getElementById("linktooutside2").addEventListener("change",function(){this.checked?outsidelink2=1:outsidelink2=0}),document.getElementById("linktooutside3").addEventListener("change",function(){this.checked?outsidelink3=1:outsidelink3=0}),$("#linkmaker").click(function(){if(captureState(),$("#whatsthelink").val().includes("pcrichard.com")||$("#whatsthelink").val().includes("staging-na01-pcrichard.com"))return $("#message2").slideDown().delay(2e3).slideUp(),!1;var e=window.getSelection();if(e.rangeCount){var t=e.toString(),i=$("#whatsthelink").val();if(0===outsidelink)var o='<a href="'+i+'" aria-label="'+t+'">'+t+"</a>";else o='<a href="'+i+'" aria-label="'+t+'" target="_blank">'+t+"</a>";var a=e.getRangeAt(0);if(1===layoutmode){var n=document.createElement("div");n.innerHTML=o,a.deleteContents(),a.insertNode(n.firstChild)}else{n=document.createElement("div");n.innerHTML=o,a.deleteContents(),a.insertNode(n.firstChild)}$("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})}),$("#beautycode").val($("#pullthecode3").html())}}),$("#linkmakerimg").click(function(){var e=document.querySelector(".explorerselected");if(e){var t=e.outerHTML;$(".terminal").append("Selected HTML: ",t+"<br>");var i=$("#whatsthelink3").val();$(".terminal").append("Link to create: ",i+"<br>");var o=document.createElement("a");o.href=i,0!==outsidelink3&&(o.target="_blank"),$(".terminal").append("Anchor node created<br>"),o.innerHTML=t,$(".terminal").append("Anchor node after setting inner HTML: ",o.outerHTML+"<br>"),e.replaceWith(o),$(".terminal").append("Original element replaced with anchor node<br>"),$("#beautycode").val($("#pullthecode3").html()),$(".terminal").append("Code updated in hidden input<br>")}else $(".terminal").append('No element with class "explorerselected" found<br>')}),$("#linkmaker3").click(function(){if($("#whatsthelink3").val().includes("pcrichard.com")||$("#whatsthelink3").val().includes("staging-na01-pcrichard.com"))return $("#message2").slideDown().delay(2e3).slideUp(),!1;var e=window.getSelection();if(e.rangeCount){var t=e.getRangeAt(0),i=$("#whatsthelink3").val(),o=document.createElement("a");o.href=i,0!==outsidelink3&&(o.target="_blank");var a=t.extractContents(),n=a.textContent||a.innerText||"";o.appendChild(a),o.setAttribute("aria-label",n),t.insertNode(o),e.removeAllRanges();var l=document.createRange();l.selectNode(o),e.addRange(l),$("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})}),$("#beautycode").val($("#pullthecode3").html())}}),$("#closediag").on("click",function(){document.getElementById("myModal").style.display="none",currentAnchor=null}),getCurrentDateTime(),$(document).on("click","#submitvideofile",function(){const e=$("#videofilename").val(),t=$("#videocaptions").val(),i=$("#videoposter").val(),o=$("#videoseotitle").val(),a=$("#videoseodescription").val(),n=createVideoElement(e,t,i,o,a);$(".interedit").html(n),$("#beautycode").val($("#pullthecode3").html())}),$("#mylistamount").on("change",function(){for($(".lister").hide(),originallist=1,amountoflist=$(this).val();originallist<=amountoflist;)$("#list"+originallist).slideDown(),originallist++}),$("#mylisttype").on("change",function(){mylisttype=$(this).val()}),$("#listsubmit").on("click",function(){var e="",t="",i="",o="",a="",n="",l="",c="",r="",d="",s=$("#listtitle-d").val();$("#list1").is(":visible")&&(e="<li>"+$("#list1").val()+"</li>"),$("#list2").is(":visible")&&(t="<li>"+$("#list2").val()+"</li>"),$("#list3").is(":visible")&&(i="<li>"+$("#list3").val()+"</li>"),$("#list4").is(":visible")&&(o="<li>"+$("#list4").val()+"</li>"),$("#list5").is(":visible")&&(a="<li>"+$("#list5").val()+"</li>"),$("#list6").is(":visible")&&(n="<li>"+$("#list6").val()+"</li>"),$("#list7").is(":visible")&&(l="<li>"+$("#list7").val()+"</li>"),$("#list8").is(":visible")&&(c="<li>"+$("#list8").val()+"</li>"),$("#list9").is(":visible")&&(r="<li>"+$("#list9").val()+"</li>"),$("#list10").is(":visible")&&(d="<li>"+$("#list10").val()+"</li>"),$("#mylisttype").on("change",function(){mylisttype=$(this).val()}),"0"===mylisttype?""===s?$(".interedit").append('<ol id="listcontent'+listaddition+'" class="in910 '+$("#mylistwidth").val()+'"> '+e+t+i+o+a+n+l+c+r+d+" </ol>").removeClass(".interedit"):$(".interedit").append('<h3 style="margin-bottom:5px">'+s+'</h3><ol id="listcontent'+listaddition+'" class="in910 '+$("#mylistwidth").val()+'"> '+e+t+i+o+a+n+l+c+r+d+" </ol>").removeClass(".interedit"):""===s?$(".interedit").append('<ul id="listcontent'+listaddition+'" class="in910 '+$("#mylistwidth").val()+'"> '+e+t+i+o+a+n+l+c+r+d+" </ul>").removeClass(".interedit"):$(".interedit").append('<h3 style="margin-bottom:5px">'+s+'</h3><ul id="listcontent'+listaddition+'" class="in910 '+$("#mylistwidth").val()+'"> '+e+t+i+o+a+n+l+c+r+d+" </ul>").removeClass(".interedit"),listaddition++,$(".lister").val(""),$("#listtitle-d").val(""),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$("#newlist").on("click",function(){createnewlist=1,$(".lister").val(""),$("#newlist").fadeOut(),$("#listsubmit").text("Submit List").css("background-color","#334").css("color","#fff")}),$(document).keydown(function(e){function t(e){$(e).trigger("click")}if(!e.ctrlKey&&!e.metaKey||e.shiftKey)"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),captureState(),t("#breakbuttonlive"));else switch(e.key){case"b":e.preventDefault(),captureState(),t("#theboldtext");break;case"z":e.preventDefault(),undoChange();break;case"y":e.preventDefault(),redoChange();break;case"Delete":e.preventDefault(),captureState();break;case"e":e.preventDefault(),captureState(),t("#superscriptbutton");break;case"d":e.preventDefault(),captureState(),t("#subscriptbutton");break;case"i":e.preventDefault(),captureState(),t("#italicbutton");break;case"u":e.preventDefault(),captureState(),t("#underlinebutton")}}),$("#sidetoolset").delay(600).animate({opacity:1},1e3),$("#submitUrl").click(function(){var e=$("#imageUrl").val();currentImagealt=$(currentImage).attr("alt"),e&&"http://"!==e&&(0===currentImage.parent("a").length?currentImage.wrap('<a class="" href="'+e+'" aria-label="'+currentImagealt+'"></a>'):currentImage.parent("a").attr("href",e)),$("#urlModal").hide(),$("a img").off("click").on("click",function(e){e.preventDefault();var t=$(e.target);t.is("a")||(t=t.closest("a"));var i=t.attr("href");gotothelinkfunction(i)})});let isProgrammaticChangeRowMarginTop2=!1;$("#RowBackgroundColorlist").on("change",function(){if(!isProgrammaticChangeRowMarginTop2){var e=$(this).find("option:selected"),t=e.val(),i=e.attr("value1");$(".onblock").each(function(){var e=$(this).attr("style");if(void 0!==e&&!1!==e){var i=e.replace(/background-color\s*:\s*[^;]+;?/gi,"");i+="background-color: "+t+" !important;",$(this).attr("style",i)}else $(this).attr("style","background-color: "+t+" !important;")}),$(".onblock p").each(function(){this.style.setProperty("color",i,"important")}),isProgrammaticChangeRowMarginTop2=!0,$(this).val("none").change(),isProgrammaticChangeRowMarginTop2=!1,updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}}),$("#Row-Border-Radius").on("change",function(){var e=$(this).find("option:selected"),t=e.attr("value");$(".onblock").css("border-radius",t),$("#Row-Border-Radius").prop("selectedIndex",0),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$("#Row-Padding-Radius").on("change",function(){var e=$(this).find("option:selected"),t=e.attr("value"),i=0,o=$(".onblock");o.hasClass("width100c")&&(i=101),o.hasClass("width50c")&&(i=50),o.hasClass("width33c")&&(i=33),o.hasClass("width25c")&&(i=25),o.hasClass("width20c")&&(i=20);var a=i-1-parseFloat(2*e.attr("value"))+"%";$(".onblock").css("padding",t+"%").css("margin-left","0px").css("max-width",a),$("#Row-Padding-Radius").prop("selectedIndex",0),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$("#body-color").on("change",function(){var e=$(this).find("option:selected"),t=e.attr("value");$(".informationcontent").attr("style","background-color: "+t+" !important;"),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$("#comp-color").on("change",function(){
var e=$(this).find("option:selected"),t=e.attr("value");$(".interedit").attr("style","background-color: "+t+" !important;"),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$("#comp-font").on("change",function(){var e=$(this).find("option:selected"),t=e.attr("value");$(".interedit").css("font-family",t),updateMobilePreview(),$("#beautycode").val($("#pullthecode3").html())}),$(function(){$(".slider").slider({stop:function(e,t){var i=t.value,o=$(this).attr("id");switch(o){case"slider33":updateSliderValue33(i);break;case"slider66":updateSliderValue66(i);break;case"slider99":updateSliderValue99(i);break;case"slider00":updateSliderValue00(i);break;case"slider11":updateSliderValue11(i);break;case"slider22":updateSliderValue22(i);break;case"slider2":updateSliderValue2(i);break;case"slider3":updateSliderValue3(i);break;default:$(".terminal").append("Unhandled slider ID<br>")}}})}),$(".selectall").on("click",function(){var e=document.createRange();e.selectNodeContents(this);var t=window.getSelection();t.removeAllRanges(),t.addRange(e);try{var i=document.execCommand("copy"),o=i?"successful":"unsuccessful";$(".terminal").append("Copy command was "+o+"<br>")}catch(e){$(".terminal").append("Oops, unable to copy<br>")}}),$(function(){var e=27,t=$(window).width()*(e/100),i=300;$("#fullembedcodeddd2").resizable({minWidth:320}),$("#programming").resizable({maxWidth:t,minWidth:i,resize:function(e,t){var i=t.element.parent().width(),o=t.size.width,a=i-o-2;$("#resizable-div").width(Math.max(a-40,0))}}),$(window).resize(function(){var t=$(window).width()*(e/100);$("#programming").resizable("option","maxWidth",t)}),$("#programming, #resizable-div").css("box-sizing","border-box")});const $mobilePreview2=$("#mobilepreview2"),$pullTheCode2=$("#pullthecode2");addClickHandler(".createlayoutslider","sliderValuerow","#selectwidthrow","layoutpale",".informationcontent",layoutHtmlTemplate),addClickHandler(".createcomponentslider","sliderValuecomp1","#selectwidthcomp","",".onblock",componentHtmlTemplate),$("#addrow").on("click",function(){$(".onblock").removeClass("onblock"),$(".internalbuttons").slideDown(),$(".layoutbuilder").append('<div class="width100c  layoutpale layoutpale100 liverow droppable onblock"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$(".addrow").on("click",function(){var e=$(this).data("layout").split(","),t='<div class="width100c">';e.forEach(function(e,i){var o=0===i?"onblock":"";t+=`<div class="width${e}c width50c2 layoutpale layoutpale${e} liverow droppable ${o}"></div>`}),t+="</div>",$(".onblock").removeClass("onblock"),$(".layoutbuilder").append(t),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$(".addrowslider").on("click",function(){html='<div class="width100c programoverflow"><div class="width100c subscrollerdiv"><div class="width33c layoutpale layoutpale33 liverow droppable onblock ui-droppable"></div><div class="width33c layoutpale layoutpale33 liverow droppable ui-droppable"></div><div class="width33c layoutpale layoutpale33 liverow droppable ui-droppable"></div></div></div>',$(".layoutbuilder").append(html),$(".onblock").removeClass("onblock"),$("#beautycode").val($("#pullthecode3").html())}),$(".addrowslider50").on("click",function(){html='<div class="width100c programoverflow"><div class="width100c subscrollerdiv"><div class="width50c layoutpale layoutpale50 liverow droppable onblock ui-droppable"></div><div class="width50c layoutpale layoutpale50 liverow droppable ui-droppable"></div></div></div>',$(".layoutbuilder").append(html),$(".onblock").removeClass("onblock"),$("#beautycode").val($("#pullthecode3").html())}),$("#addrowc1xc1").on("click",function(){$(".informationcontent").append('<div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width100c liveelement in910 layoutpale layoutpale100 "></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrowcxc").on("click",function(){$(".informationcontent").append('<div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable onblock"><div class="width100c liveelement in910 layoutpale layoutpale100 "></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div><div class="width50c width50c2 liveelement in910 layoutpale layoutpale50"></div></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrowc2xc8").on("click",function(){$(".informationcontent").append('<div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable onblock"><div class="width100c liveelement in910 layoutpale layoutpale100"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width20c width50c2 liveelement in910 layoutpale layoutpale20"></div><div class="width80c width50c2 liveelement in910 layoutpale layoutpale25"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width80c width50c2 liveelement in910 layoutpale layoutpale25"></div><div class="width20c width50c2 liveelement in910 layoutpale layoutpale20"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width20c width50c2 liveelement in910 layoutpale layoutpale20"></div><div class="width80c width50c2 liveelement in910 layoutpale layoutpale25"></div></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrowc4xc6").on("click",function(){$(".informationcontent").append('<div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable onblock"><div class="width100c liveelement in910 layoutpale layoutpale100 "></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width40c width50c2 liveelement in910 layoutpale layoutpale40"></div><div class="width60c width50c2 liveelement in910 layoutpale layoutpale60"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width40c width50c2 liveelement in910 layoutpale layoutpale40"></div><div class="width60c width50c2 liveelement in910 layoutpale layoutpale60"></div></div><div class="width100c layoutpale layoutpale100 liverow droppable ui-droppable"><div class="width40c width50c2 liveelement in910 layoutpale layoutpale40"></div><div class="width60c width50c2 liveelement in910 layoutpale layoutpale60"></div></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow1x1 , #addrow1x1a").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width100c liveelement in910 layoutpale  layoutpale100 explorerselected interedit"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow2x2 , #addrow2x2a").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width50c  width50c2 liveelement in910 layoutpale layoutpale50 interedit explorerselected"></div><div class="width50c  width50c2 liveelement in910 layoutpale  layoutpale50"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow3x3a").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width33c width50c2 liveelement in910 layoutpale layoutpale33 explorerselected interedit"></div><div class="width33c width50c2 liveelement in910 layoutpale layoutpale33"></div><div class="width33c width50c2 liveelement in910 layoutpale layoutpale33"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow25x4a").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width25c width50c3 liveelement unselectable-text in910 layoutpale layoutpale25 explorerselected interedit"></div><div class="width25c width50c3 liveelement unselectable-text in910 layoutpale layoutpale25"></div><div class="width25c width50c3 liveelement unselectable-text in910 layoutpale layoutpale25"></div><div class="width25c width50c3 liveelement unselectable-text in910 layoutpale layoutpale25"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow2x8").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width20c width50c2 liveelement in910 layoutpale layoutpale20 interedit explorerselected"></div><div class="width80c width50c2 liveelement in910 layoutpale layoutpale25"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow4x6").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width40c width50c2 liveelement in910 layoutpale layoutpale40 interedit explorerselected"></div><div class="width60c width50c2  liveelement in910 layoutpale layoutpale60"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow4x6a").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width60c width50c2  liveelement in910 layoutpale interedit layoutpale60 interedit explorerselected"></div><div class="width40c width50c2 liveelement in910 layoutpale layoutpale40"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow2x7").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width25c width50c2 liveelement in910 layoutpale layoutpale25 interedit explorerselected"></div><div class="width75c width50c2 liveelement in910 layoutpale layoutpale75"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow3x3").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width33c width50c2 liveelement in910 layoutpale layoutpale33 interedit explorerselected"></div><div class="width33c width50c2 liveelement in910 layoutpale layoutpale33"></div><div class="width33c width50c2 liveelement in910 layoutpale layoutpale33"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$("#addrow4x4").on("click",function(){$(".interedit").removeClass("interedit"),captureState(),$(".interedit").removeClass("interedit"),$(".explorerselected").removeClass("explorerselected"),$(".onblock").append('<div class="width20c width50c3 liveelement in910 layoutpale layoutpale25  interedit explorerselected"></div><div class="width20c width50c3 liveelement in910 layoutpale layoutpale25"></div><div class="width20c width50c3 liveelement in910 layoutpale layoutpale25"></div><div class="width20c width50c3 liveelement in910 layoutpale layoutpale25"></div>'),enabledrop(),$("#beautycode").val($("#pullthecode3").html())}),$(".addrow-click").on("click",function(){captureState(),$(".addrow100").click(),$("#beautycode").val($("#pullthecode3").html())}),$(".whattypeofimage").on("click",function(){$(".typeofim").hide(),openimagebuilder="."+$(this).attr("openimagebuilder"),$(openimagebuilder).slideDown(),".productimage"===openimagebuilder?$("#mycompimagelist , #clicktoloadlocalfiles").hide():$("#mycompimagelist , #clicktoloadlocalfiles").show(),$(".whattypeofimage").css("background-color","transparent"),$(this).css("background-color","#666"),$("#beautycode").val($("#pullthecode3").html())}),document.getElementById("cinput1").addEventListener("input",function(){$(".showthepreviewimage").css("pointer-events","all"),$(".showthepreviewimage").each(function(){previewurld="https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/",imageprefix=$(this).attr("prefix"),$(this).attr("src",previewurld+imageprefix+$("#cinput1").val()+".jpg")});for(var e=document.getElementsByTagName("img"),t=0,i=e.length;t<i;t++)e[t].classList.contains("showthepreviewimage")&&(e[t].parentNode.style.display="none",e[t].onload=function(){this.parentNode.style.display=""},e[t].onerror=function(e){this.parentNode.style.display="none"});$("#beautycode").val($("#pullthecode3").html())}),$(".showthepreviewimage").on("click",function(){if(""==$("#cinput1b").val())return $(".imagemessage").slideDown().delay(2e3).slideUp(),!1;imageselect=$(this).attr("prefix"),imagename00=$("#cinput1").val(),newval2=$("#cinput1b").val();var e=newval2.replace(/"/g,"").replace("®","").replace("™","");imageheader=$("#cinput1c").val(),""==$("#cinput1c").val()?imagedata='<div class="width100c"><img class="loading-lazy promoimg21 in910" src="https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/'+imageselect+imagename00+'.jpg?sw=400&sh=400&sm=fit" data-src="https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/'+imageselect+imagename00+'.jpg?sw=400&sh=400&sm=fit" alt="'+e+'"></div>':imagedata=imageheader+'<div class="width100c"><img class="loading-lazy promoimg21 in910" src="https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/'+imageselect+imagename00+'.jpg?sw=400&sh=400&sm=fit" data-src="https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/'+imageselect+imagename00+'.jpg?sw=400&sh=400&sm=fit" alt="'+e+'"></div>',$(".interedit").append(imagedata).removeClass(".interedit"),imagefunctions()}),$("#cancelUrl").click(function(){$("#urlModal").hide()}),$("#deleteImage").click(function(){currentImage.parent("a").remove(),currentImage.parent("div").remove(),currentImage.remove(),$("#customModal").hide()}),$("#closeModal").click(function(){$("#customModal").hide()}),$("#wrapImage").click(function(){$("#customModal").hide(),$("#urlModal").show()}),$("#submitUrl").click(function(){currentImagealt=$(currentImage).attr("alt");var e=$("#imageUrl").val();e&&"http://"!==e&&(0===currentImage.parent("a").length?currentImage.wrap('<a class="" href="'+e+'" aria-label="'+currentImagealt+'"></a>'):currentImage.parent("a").attr("href",e)),$("#urlModal").hide()}),document.getElementById("catalogselector").addEventListener("change",function(){catalogselector=$("#catalogselector").val(),promotionalsource="https://www.pcrichard.com/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/images"+catalogselector,pimsource="https://staging-na01-pcrichard.demandware.net/on/demandware.static/-/Library-Sites-PCRichardSharedLibrary/default/dw3744730c"+catalogselector,"/blog/"===catalogselector?imagelivesource=promotionalsource:imagelivesource=pimsource,$("#showthepromotionalimage").attr("src",imagelivesource+$("#cinput1promotional").val())}),document.getElementById("clicktoloadlocalfiles").addEventListener("click",function(){document.getElementById("imgfileInput").click(),$("#loadedimagemessage").show()}),document.getElementById("imgfileInput").addEventListener("change",function(e){const t=e.target.files,i=document.getElementById("mycompimagelist");i.innerHTML="";for(const e of t)if(e.type.startsWith("image/")){const t=document.createElement("div");t.className="myloadedimages";const o=document.createElement("img"),a=document.createElement("div");a.className="myloadedfilenames",o.src=URL.createObjectURL(e),o.style.width="100px",o.onload=function(){URL.revokeObjectURL(o.src)},a.textContent=e.name,a.style.textAlign="center",t.appendChild(o),t.appendChild(a),i.appendChild(t)}$(".myloadedimages").on("click",function(){var e=$(this).children(".myloadedfilenames").text();$("#cinput1promotional , #wraparoundfilename").val(e),catalogselector=$("#catalogselector").val(),promotionalsource="https://www.pcrichard.com/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/images/"+catalogselector,pimsource="https://staging-na01-pcrichard.demandware.net/on/demandware.static/-/Library-Sites-PCRichardSharedLibrary/default/dw3744730c"+catalogselector,"/blog/"===catalogselector?imagelivesource=promotionalsource:imagelivesource=pimsource,$("#showthepromotionalimage").attr("src",imagelivesource+e)}),$("#beautycode").val($("#pullthecode3").html())}),$("#showthepromotionalimage").on("click",function(){if(imagename01=$(this).attr("src"),"pim-content/"===$("#catalogselector").val()?pimPromotional="pimpromotional":pimPromotional="",""==$("#cinput1bpromotional").val())return $(".imagemessage").slideDown().delay(2e3).slideUp(),!1;var e=$("#cinput1bpromotional").val(),t=e.replace(/"/g,"").replace("®","").replace("™",""),i='<img class="loading-lazy promoimg21 in910 '+pimPromotional+'" src="'+imagename01+'" data-src="'+imagename01+'" alt="'+t+'">';$(".interedit").append(i).removeClass(".interedit"),$("#closeModal").click(function(){$("#customModal").hide()}),imagefunctions(),debouncedUpdateMobilePreview()}),$("#wraparoundselect").on("change",function(){hideextra=$(this).val(),"blog"===hideextra?($("#wrapselectimagepreview").hide(),$("#hideforblog").hide()):($("#wrapselectimagepreview").show(),$("#hideforblog").show())}),$("#wrapimageselector").on("change",function(){selectaproductwrapimage=$("#wrapimageselector").val(),wrapimagefilename=$("#wraparoundfilename").val(),$("#wrapselectimagepreview").attr("src","https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/"+selectaproductwrapimage+wrapimagefilename+".jpg")}),$("#wraparoundsubmit").on("click",function(){if(""===$("#wraparoundalt").val())return $(".imagemessage").slideDown().delay(2e3).slideUp(),!1;wraptext="<p >"+$("#wraparoundimage").val()+"</p>",wrapcatalogselect=$("#wraparoundselect").val(),wrapimagefilename=$("#wraparoundfilename").val(),wrapimagealt=$("#wraparoundalt").val(),"yes"===$("#reverseimage").val()?imagefloat="right":imagefloat="left","product"===wrapcatalogselect&&(selectaproductwrapimage=$("#wrapimageselector").val(),wrapimagestyle="flex: 0 1 auto; max-width:50%;padding: 3%;float:"+imagefloat+";",wrapfullimage="https://www.pcrichard.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/dwc11aa0e8/images/hires/"+selectaproductwrapimage+wrapimagefilename+".jpg?sw=400&amp;sh=400&amp;sm=fit",$(".interedit").html('<div style="'+wrapimagestyle+'"><img class="loading-lazy promoimg21 in910" src="'+wrapfullimage+'"  data-src="'+wrapfullimage+'" alt="'+wrapimagealt+'"/>   </div><div style="align-items: flex-start;"><div style="flex: 1 1 auto" >'+wraptext+"</div>")),"promo"===wrapcatalogselect&&(wrapimagefilename2="https://staging-na01-pcrichard.demandware.net/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/images/promo/"+wrapimagefilename+"?sw=400&amp;sh=400&amp;sm=fit",wrapimagestyle="flex: 0 1 auto; max-width:50%;padding: 3%;float:"+imagefloat+";",$(".interedit").html('<div style="'+wrapimagestyle+'"><img class="loading-lazy promoimg21 in910" alt="'+wrapimagealt+'" src="'+wrapimagefilename2+'" data-src="'+wrapimagefilename2+'"/></div></div><div style="align-items: flex-start;"><div style="flex: 1 1 auto" >'+wraptext+"</div>")),"blog"===wrapcatalogselect&&(wrapimagefilename2="https://staging-na01-pcrichard.demandware.net/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/images/blog/"+wrapimagefilename+"?sw=400&amp;sh=400&amp;sm=fit",wrapimagestyle="flex: 0 1 auto; max-width:50%;padding: 3%;float:"+imagefloat+";",$(".interedit").html('<div style="'+wrapimagestyle+'"><img class="loading-lazy promoimg21 in910" alt="'+wrapimagealt+'" src="'+wrapimagefilename2+'" data-src="'+wrapimagefilename2+'"/></div></div><div style="align-items: flex-start;"><div style="flex: 1 1 auto" >'+wraptext+"</div>")),imagefunctions(),$("#beautycode").val($("#pullthecode3").html())}),$("#wraparoundproductnumber").on("input",function(){getthewraparoundnumber=$(this).val(),$(".showthepreviewimage2").css("pointer-events","all"),$(".showthepreviewimage2").each(function(){previewurld2="https://edge.disstg.commercecloud.salesforce.com/dw/image/v2/BFXM_PRD/on/demandware.static/-/Sites-pcrichard-master-product-catalog/default/images/hires/",imageprefix2=$(this).attr("prefix"),$(this).attr("src",previewurld2+imageprefix2+$("#wraparoundproductnumber").val()+".jpg?sw=300&sh=300&sm=fit");for(var e=document.getElementsByTagName("img"),t=0,i=e.length;t<i;t++)e[t].classList.contains("showthepreviewimage2")&&(e[t].parentNode.style.display="none",e[t].onload=function(){this.parentNode.style.display=""},e[t].onerror=function(e){this.parentNode.style.display="none"})}),$(".showthepreviewimage2").on("click",function(){if(""===$("#wraparoundalt").val())return $(".imagemessage").slideDown().delay(2e3).slideUp(),!1;"yes"===$("#reverseimage").val()?imagefloat="right":imagefloat="left; padding: 5%;padding-left:0px;margin-left:-7px",$(".interedit").html(' <div style="flex: 0 1 auto; max-width:50%;padding: 3%;float:'+imagefloat+';"><img  alt="'+$("#wraparoundalt").val()+'"src="'+$(this).attr("src")+'"/> </div></div><div style="align-items: flex-start;"><div style="flex: 1 1 auto" ><p>'+$("#wraparoundimage").val()+"</p></div>"),imagefunctions()})}),document.getElementById("cinput1promotional").addEventListener("input",function(){catalogselector=$("#catalogselector").val(),promotionalsource="https://www.pcrichard.com/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/images/"+catalogselector,pimsource="https://staging-na01-pcrichard.demandware.net/on/demandware.static/-/Library-Sites-PCRichardSharedLibrary/default/dw3744730c"+catalogselector,"/blog/"===catalogselector?imagelivesource=promotionalsource:imagelivesource=pimsource,$("#showthepromotionalimage").attr("src",imagelivesource+$("#cinput1promotional").val())}),$("#import").on("click",function(){$("#pullthecode2").children("div").children(".informationcontent").html(""),$("#fileInput").click(),clearAppDatabaseGithub()}),$("#importstart").on("click",function(){$("#pullthecode2").children("div").children(".informationcontent").html(""),$("#fileInput").click(),$("#uniqueModal").fadeOut(),clearAppDatabaseGithub()}),$("#fileInput").change(function(e){$("#pullthecode2").hide(),$("#mobilepreview2").hide(),$("#explorer2").hide();const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){const t=e.target.result;$("#pullthecode2").children("div").children(".informationcontent").html(t),postimg(),$("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})})},e.readAsText(t),setTimeout(()=>{enabledrop()},2e3),$("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})})}setTimeout(pushtomobile,2e3)}),document.getElementById("fileimport").addEventListener("change",function(){function e(e){var t=e.replace(/https:\/\/www\.pcrichard\.com/g,""),o=$("<div>").html(t);o.find("h1, h2 , h3 , h4 ,h5").addClass("t-h4-style").css("color","rgb(3, 70, 148)").wrap('<div class="pd-header-tag width100c"></div>'),o.find("a").filter(function(){return""===$.trim($(this).text())&&0===$(this).children().length}).remove(),$(".hidecss").show(),$(".onblock").removeClass("onblock"),$(".internalbuttons").slideDown(),$(".informationcontent").append('<div class="width100c layoutpale layoutpale100 liverow droppable onblock"><div class="width100c liveelement in910 layoutpale layoutpale100 importedContent interedit">'+o.html()+"</div></div>"),i(),attachTripleClickHandlerToImportedContent()}function t(e){var t=e.replace(/https:\/\/www\.pcrichard\.com/g,""),o=$("<div>").html(t);o.find("h1, h2 , h3 , h4 ,h5").addClass("t-h4-style").css("color","rgb(3, 70, 148)").wrap('<div class="pd-header-tag width100c layoutpale layoutpale100 liverow droppable"><div class="width100c liveelement in910 layoutpale  layoutpale100"></div></div>'),o.find("p").wrap('<div class="width100c layoutpale layoutpale100 liverow droppable"><div class="width100c liveelement in910 layoutpale  layoutpale100"></div></div>'),o.find("a").filter(function(){return""===$.trim($(this).text())&&0===$(this).children().length}).remove(),$(".hidecss").show(),$(".onblock").removeClass("onblock"),$(".internalbuttons").slideDown(),$(".informationcontent").append('<div class="width100c layoutpale layoutpale100 liverow droppable onblock"><div class="width100c liveelement in910 layoutpale layoutpale100 importedContent interedit">'+o.html()+"</div></div>"),pushtomobile(),i(),attachTripleClickHandlerToImportedContent(),$("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})})}function i(){paragraphfunctions()}var o=this.files[0];if(o){if(o.name.endsWith(".docx")){var a=new FileReader;a.onload=function(e){var i=e.target.result;mammoth.convertToHtml({arrayBuffer:i}).then(function(e){t(e.value)}).catch(function(e){$(".terminal").append(e+"<br>")})},a.readAsArrayBuffer(o)}else{a=new FileReader;a.onload=function(t){var i=t.target.result;e(i)},a.readAsText(o)}paragraphfunctions(),setTimeout(()=>{const e=new MutationObserver(e=>{for(const t of e)if("childList"===t.type||"subtree"===t.type)break});e.observe(document.querySelector("#pullthecode2"),{childList:!0,subtree:!0})},2e3)}}),$("#export").on("click",function(){var e=$("#pullthecode2").children("div").children(".informationcontent").html();const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);var i=new Blob([e],{type:"text/plain"}),o=URL.createObjectURL(i),a=document.createElement("a");a.href=o,a.target="_blank",namethatfile=$("#nametextfile").val(),""===namethatfile?a.download="Domcell-Pagebuilder.txt":a.download=namethatfile+".txt",a.click(),URL.revokeObjectURL(o)}),$("#exportfinalcodetofile").off("click").on("click",function(){var e=$("#thisisthefinalcode").text();const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);var i=new Blob([e],{type:"text/plain"}),o=URL.createObjectURL(i),a=document.createElement("a");a.href=o;var n=$("#nametextfile").val();a.download=""===n?"Domcell-Pagebuilder.txt":n+".txt",a.click(),URL.revokeObjectURL(o)}),$(document).ready(function(){function e(){const e=indexedDB.open(d,1);e.onupgradeneeded=function(e){u=e.target.result,u.objectStoreNames.contains(s)||u.createObjectStore(s,{keyPath:"id"})},e.onsuccess=function(e){u=e.target.result,o()},e.onerror=function(e){$(".terminal").append("Error opening IndexedDB:",e.target.errorCode+"<br>")}}function t(e){const t=u.transaction([s],"readwrite"),i=t.objectStore(s),o=i.put({id:"savedContent",htmlContent:e});o.onsuccess=function(){$(".terminal").append("Content saved to memory successfully!<br>")},o.onerror=function(e){$(".terminal").append("Error saving content to memory:",e.target.errorCode+"<br>")}}function i(){var e=document.getElementById("pullthecode3");e&&""===e.innerHTML.trim()?$(".unique-modal").fadeIn():e||$(".terminal").append("Element with ID 'pullthecode3' not found.<br>")}function o(){const e=u.transaction([s],"readonly"),t=e.objectStore(s),o=t.get("savedContent");o.onsuccess=function(e){const t=e.target.result;if(t)c.html(t.htmlContent),document.querySelector(".unique-modal").style.display="none";else if(document.querySelector(".unique-modal").style.display="block",parent&&parent.document){var i=parent.document.getElementById("headerstart");i&&(i.style.display="none")}a(),$("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})})},o.onerror=function(e){$(".terminal").append("Error loading content from IndexedDB:",e.target.errorCode+"<br>")},setTimeout(()=>{i()},100)}function a(){enabledrop(),imagefunctions(),paragraphfunctions(),$mobilePreview.html($pullTheCode.html())}function n(){const e=indexedDB.open("AppDatabase",1);e.onsuccess=(e=>{const t=e.target.result,i=t.transaction(["currentFile"],"readwrite"),o=i.objectStore("currentFile"),a=o.clear();a.onsuccess=(()=>{$(".terminal").append("IndexedDB memory cleared successfully.<br>"),currentFileName="",currentFileSha="",document.getElementById("currentFile").textContent="No file selected",document.getElementById("pullthecode3").innerHTML="",location.reload()}),a.onerror=(e=>{$(".terminal").append("Error clearing IndexedDB memory:",e.target.errorCode+"<br>")})}),e.onerror=(e=>{$(".terminal").append("Error opening IndexedDB:",e.target.errorCode+"<br>")})}function l(){p=setInterval(function(){t(c.html());var e=$(".saveinfo");e.text("Workspace Saved"),setTimeout(function(){e.text("Saved Version ("+m+")"),m++},2500)},6e4)}const c=$("#pullthecode2"),r=$("#urlModal"),d=($("#desktophidev2d"),$("#mobilehidev2d"),"DomcellDB"),s="DomcellcontentStore";let u;$("body").on("click","a:not(.googledrive, .outsidelink)",function(e){e.preventDefault()
;const t=$(e.target).closest("a");gotothelinkfunction(t.attr("href")),imagefunctions()}),$("#cancelUrl").click(function(){r.hide()}),$("#clearandrestartbutton").click(function(){clearIndexedDB(),clearAppDatabaseGithub(),n()}),$(window).on("beforeunload",function(){window.clearAndRestartClicked||t(c.html())}),e();var p,m=1;l(),$("#savetomemory").on("click",function(){clearInterval(p),t(c.html());var e=$(".saveinfo");e.text("Workspace Saved"),setTimeout(function(){e.text("Saved Version ("+m+")"),m++},2500),l()});var h=$(".editor-input").val();$(".editor-input").replaceWith(h)}),document.getElementById("convertBtn").addEventListener("click",()=>{function e(e,t){const l=e/t*100;i.style.width=`${l}%`,i.innerText=`${l.toFixed(0)}%`,e===t&&(o.innerHTML=`Conversion completed. Success: ${a}, Failed: ${n}`)}const t=document.getElementById("csvFileInput"),i=document.getElementById("progressBar"),o=document.getElementById("statusReport");let a=0,n=0;const l=document.getElementById("includeHeader").checked,c=document.getElementById("filenameSuffix").value||"";if(t.files.length>0){i.style.width="0%",i.innerText="0%";const o=t.files.length;Array.from(t.files).forEach((t,i)=>{const r=new FileReader;r.onload=function(r){try{const e=r.target.result,i=csvToVtt(e,l);downloadVttFile(i,t.name.replace(".csv","")+c+".vtt"),a++}catch(e){$(".terminal").append("Conversion failed for file:",t.name,e+"<br>"),n++}e(i+1,o)},r.onerror=(()=>{$(".terminal").append("Failed to read file:",t.name+"<br>"),n++,e(i+1,o)}),r.readAsText(t)})}else $(".saveinfo").text("Please select at least one CSV file.")}),document.addEventListener("DOMContentLoaded",function(){function e(){for(let e=1;e<=20;e++){let t=new Option(`${e} Item${e>1?"s":""}`,e);o.add(t)}t(1)}function t(e){n.innerHTML="";for(let t=1;t<=e;t++){const e=document.createElement("input");e.type="text",e.className="form-control list-item-input",e.placeholder=`List Item ${t}`,n.appendChild(e)}}const i=document.getElementById("listTitle"),o=document.getElementById("listAmount"),a=document.getElementById("listType"),n=document.getElementById("listItems"),l=document.getElementById("submitList"),c=document.getElementById("exportList"),r=document.getElementById("importList"),d=document.getElementById("fileInputList");o.addEventListener("change",function(){t(parseInt(this.value))}),l.addEventListener("click",function(){const e=i.value.trim(),t=Array.from(document.querySelectorAll(".list-item-input")).map(e=>e.value.trim()).filter(e=>""!==e),o=document.querySelector(".interedit");if(e){const t=document.createElement("h3");t.textContent=e,t.style.marginBottom="5px",o.appendChild(t)}const n="1"===a.value?"ul":"ol",l=document.createElement(n);l.className="in910",t.forEach(e=>{const t=document.createElement("li");t.textContent=e,l.appendChild(t)}),o.appendChild(l),$("#listTitle").val(""),$(".list-item-input").val("")}),c.addEventListener("click",function(){const e={title:i.value,type:a.value,items:Array.from(document.querySelectorAll(".list-item-input")).map(e=>e.value)},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),n=document.createElement("a");n.className="outsidelink",n.href=o,n.download="list.json",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o)}),r.addEventListener("click",function(){d.click()}),d.addEventListener("change",function(){const e=this.files[0];if(e){const o=new FileReader;o.onload=function(e){const o=JSON.parse(e.target.result);i.value=o.title,a.value=o.type,t(o.items.length),o.items.forEach((e,t)=>{document.querySelectorAll(".list-item-input")[t].value=e})},o.readAsText(e)}}),e()}),adjustMaxHeight(),$(window).resize(function(){adjustMaxHeight()});let searchIndex=-1,searchResults=[];$(document).ready(function(){$("#beautycode").on("input",function(){$("#pullthecode3").html($("#beautycode").val()),$("#mobilepreview2 #pullthecode3").html($("#beautycode").val()),$(".totalinternalcontent").find("img").each(function(){var e=$(this);e.hasClass("promoimg21")||e.addClass("promoimg21"),$(".totalinternalcontent").find("a").not(".googledrive").not(".outsidelink").not(".list-button").on("click",function(e){e.preventDefault();var t=$(e.target);t.is("a")||(t=t.closest("a")),e.preventDefault();var i=t.attr("href");gotothelinkfunction(i),$("#noBtn").off("click").on("click",function(){var t=$(e.target);t.is("a")||(t=t.closest("a")),t.replaceWith(t.text()),document.getElementById("myModal").style.display="none"})})}),resetFind()}),$("#searchText").on("input",function(){resetFind()}),$("#beautycode").on("focus",function(){$("#mobilepreview2 #pullthecode3").html($("#beautycode").val())})}),$(".unique-box").delay(600).fadeIn(800),document.querySelectorAll(".unique-box").forEach(e=>{e.addEventListener("click",function(){switch(this.id){case"box1u":$('div.thetopbox[whatbox="Tools"]').click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),$("#pullthecode2").animate({"max-height":$(document).height()-100}),$("#pullthecode2").animate({"min-height":$(document).height()-100}),$("#mymatrix3").hide(),bringbackthehomebutton();break;case"box2u":var e=$(document).height();$("#beautycode").val($("#pullthecode3").html()),$("#mymatrix3").css("position","absolute").css("height","auto").css("width","72%").animate({"max-height":"auto"}),$("#mymatrix3").addClass("bottomclassviewers").css("wdith","73%").css("margin-top","-41%").show(),$("#resizable-div").animate({"min-height":e-5}),$("#pullthecode2").animate({"min-height":e/2}),$("#beautycode").animate({"min-height":e/3}),$("#pullthecode2").animate({"max-height":e/2}),$("#beautycode").animate({"max-height":e/3}),$('div.thetopbox[whatbox="Tools"]').click(),$("#tools1").click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),bringbackthehomebutton(),$("#mymatrix6").hide(),$("#pullthecode2").show(),$("#mymatrix3").show(),$("#sidetoolset").show(),$("#mobilepreview2").show(),$("#explorer2").show().animate({"max-height":e/2}),$("#programming").animate({"max-height":e-25});break;case"box3u":$("#importstart").click(),bringbackthehomebutton();break;case"box12u":$("#googleDocImporterModal").show(),$(".unique-box").hide();break;case"box4u":$("#pluginsandtools").click(),$('button.outsideplugins[whaturl="bannersheduler-v2.html"]').click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),bringbackthehomebutton();break;case"box10u":$("#pluginsandtools").click(),$('button.outsideplugins[whaturl="schemabuilder-comp.html"]').click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),bringbackthehomebutton();break;case"box11u":window.parent.postMessage("toggleButtonClick","*");break;case"box5u":$("#pullthecode3").empty(),$('div.thetopbox[whatbox="Tools"]').click(),$("#tools4").click(),$(".addrow-click").click(),$("#addrow1x1a").delay(800).click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),bringbackthehomebutton();break;case"box6u":$('div.openthematrix[mymatrix="mymatrix6"]').click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),bringbackthehomebutton();break;case"box7u":$("#fileimport").click(),$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),$("#mymatrix3").hide(),bringbackthehomebutton();break;case"box8u":$("#showVersionsBtn").click(),$(".unique-box ").fadeOut(),bringbackthehomebutton();break;case"box9u":$("#fetchmyid").show(),$(".unique-box ").fadeOut(),bringbackthehomebutton();break;case"box13u":$("#fetchgithubModal").show(),$(".unique-box ").fadeOut(),bringbackthehomebutton();break;default:$(".terminal").append("Unknown box clicked<br>")}})}),$(".closemodalbutton").on("click",function(){$("#uniqueModal").hide("fold",{horizFirst:!0},1e3),bringbackthehomebutton()}),$(".closeapllicationbutton").on("click",function(){parent.location.href="gettingstarted-new.html"}),$(".outsideplugins2").on("click",function(){$("#clearandrestartbuttonrefresh").click()}),$("#versionsModal .modal-content .close").on("click",function(){$("#versionsModal").hide(),$("#uniqueModal").fadeOut()});const dbName="layoutDB",storeName="positions";let db;$("#reverse").on("click",function(){let e;$("#programming").next().is("#resizable-div")?($("#resizable-div").insertBefore("#programming"),e="resizable-div-first",$(".codechanger").css({left:"",right:"0"}),$("#minicoder").css({right:"",left:"0"})):($("#programming").insertBefore("#resizable-div"),e="programming-first",$(".codechanger").css({right:"",left:"0"}),$("#minicoder").css({left:"",right:"0"})),savePosition(e)}),$(document).ready(function(){getPosition().then(e=>{"resizable-div-first"===e&&$("#programming").next().is("#resizable-div")?$("#resizable-div").insertBefore("#programming"):"programming-first"===e&&$("#resizable-div").next().is("#programming")&&$("#programming").insertBefore("#resizable-div")})}),$("#viewchange").on("click",function(){$("#myModalcontentviewers").show()}),$(".closeviewers").on("click",function(){$("#myModalcontentviewers").hide()}),$("#fecthID").on("click",function(){$("#fetchmyid").show()}),$("#fecthgithub").on("click",function(){$("#fetchgithubModal").show()}),$("#closegithub").on("click",function(){$("#fetchgithubModal").fadeOut(),$(".unique-box").show()}),$("#fetchmyid .close").on("click",function(){$("#fetchmyid").hide()});const request=indexedDB.open("MarginTopDB",1);request.onupgradeneeded=function(e){db=e.target.result;db.createObjectStore("positions",{keyPath:"id"})},request.onsuccess=function(e){db=e.target.result,loadPositions()},request.onerror=function(e){$(".terminal").append("Database error:",e.target.errorCode+"<br>")},$("#hidemytabs").on("click",function(){const e=$(parent.document.getElementsByTagName("embed"));e.each(function(){const e=$(this).css("margin-top");if("-39px"===e||"-39px"===e){$(this).animate({"margin-top":"0px"},500),$("#uniqueModal").css("margin-top","0px");var t=parent.document.getElementById("add-tab");t.style.display="block"}else $(this).animate({"margin-top":"-39px"},500),$("#uniqueModal").css("margin-top","33px")}),setTimeout(function(){savePositions(e)},600)}),document.addEventListener("DOMContentLoaded",()=>{function e(){n<a.length-1&&(a=a.slice(0,n+1)),a.push(o.innerHTML),n=a.length-1}function t(){n>0&&(n--,o.innerHTML=a[n])}function i(){n<a.length-1&&(n++,o.innerHTML=a[n])}const o=document.getElementById("pullthecode2");let a=[],n=-1;e(),o.addEventListener("input",e),document.addEventListener("keydown",e=>{e.ctrlKey&&"z"===e.key?(e.preventDefault(),t()):e.ctrlKey&&"y"===e.key&&(e.preventDefault(),i())})}),$("#pullthecode2").on("input",function(){$("#beautycode").val($("#pullthecode2").html())}),$("#loadimage").on("click",function(){$(".explorerselected").each(function(){const e=$(this).attr("src"),t="https://www.pcrichard.com/on/demandware.static/-/Sites-pcrichard-master-articles-catalog/default/dw543ecf73";if(!e.includes(t)){const i=t+e;$(this).attr("src",i).addClass("promoimg21")}}),$("#beautycode").val($("#pullthecode2").html())}),$("#pullthecode2").animate({"min-height":$(document).height()-99});