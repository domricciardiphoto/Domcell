!function(a){var n={};function r(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},a[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}r.m=a,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=108)}({1:function(t,e,a){"use strict";var n=0;t.exports={updateStage:function(e){var t=JSON.parse(JSON.stringify(window.pageData));switch(["shipping","delivery","payment","placeOrder"][e]){case"shipping":t.event="shippingInfo",t.ecommerce.checkout.actionField.step=2,t.ecommerce.currencyCode=$("#gtm-attributes").data("currency-code");break;case"delivery":t.event="deliveryMethodExposed",t.ecommerce.checkout.actionField.step=3,t.ecommerce.currencyCode=$("#gtm-attributes").data("currency-code");break;case"payment":t.event="paymentExposed",t.ecommerce.checkout.actionField.step=4,t.ecommerce.currencyCode=$("#gtm-attributes").data("currency-code");break;case"placeOrder":n++,t.event="reviewExposed",t.ecommerce.checkout.actionField.step=5,t.ecommerce.currencyCode=$("#gtm-attributes").data("currency-code")}n<=1&&dataLayer.push(t)},loginEvent:function(){var r,e;try{var t=window.location.href,a=new URL(t).searchParams.get("registration")}catch(t){a=((e=location.search.substring(1))&&0!==e.length?(r={},decodeURIComponent(e).replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,a,n){r[t]=n}),r):{}).registration}"false"===a&&dataLayer.push({event:"signIn"})},checkoutEmailSignup:function(e){"true"===e.signupForEmail&&dataLayer.push({signupLocation:"checkout",event:"emailSignup"})},sort:function(e){dataLayer.push({event:"pageSort",sortPage:location.protocol+"//"+location.host+location.pathname,sortSelected:$.trim(e.replace(/(?:\r\n|\r|\n)/g,""))})},emailSignup:function(e){dataLayer.push({event:"emailSignup",signupLocation:e})},facet:function(e){var t;0!==e.parents(".refinement").length&&(t=$.trim(e.parents(".refinement").find(".card-header").text().replace(/(?:\r\n|\r|\n)/g,"")),e=$.trim(e.data("value"))?$.trim(e.data("value").toString().replace(/(?:\r\n|\r|\n)/g,"")):e.attr("title"),dataLayer.push({event:"refinementClick",refinementCategory:t,refinementSelection:e}))},navigationClick:function(){$('.main-menu ul[role="menu"] li a:not(".shop-content-asset a")').on("click",function(){var e,t;$(this).attr("href")&&-1!==$(this).attr("href").indexOf(location.host)&&(e={L1:"",L2:"",L3:"",L4:"",event:"navClick"},4===(t=$(this).parents('li[role="presentation"]')).length?(e.L4=$.trim($(t[0]).find("a:first span:first").text()),e.L3=$.trim($(t[1]).find("a:first span:first").text()),e.L2=$.trim($(t[2]).find("a:first span:first").text()),e.L1=$.trim($(t[3]).find("a:first").text())):3===t.length?(e.L3=$.trim($(t[0]).find("a:first span:first").text()),e.L2=$.trim($(t[1]).find("a:first span:first").text()),e.L1=$.trim($(t[2]).find("a:first").text())):2===t.length?(e.L2=$.trim($(t[0]).find("a:first span:first").text()),e.L1=$.trim($(t[1]).find("a:first").text())):e.L1=$.trim($(t[0]).find("a:first").text()),dataLayer.push(e))})},headerClicks:function(){$(".header .header-box .brand a").click(function(){dataLayer.push({linktext:"brand logo",event:"headerClick"})}),$(".header .header-box .user-authenticated a, .header .header-box .user-unauthenticated a").click(function(){dataLayer.push({linktext:$(this).find(".live-chatmsg").text()||$(this).find(".user-message").text(),event:"headerClick"})}),$(".header .header-box .minicart .minicart-link").click(function(){dataLayer.push({linktext:$(this).find(".minicart-msg").text(),event:"headerClick"})})},gtmPDPEvents:function(){$(".product-details-main").on("click",".pdp-navigation-bar .navbar-nav .nav-link",function(){dataLayer.push({event:"pdpTabClick",productID:$(".product-details-main").data("master"),productName:$("h1.product-name").text(),tabClicked:$(this).text()})});var e=document.querySelector(".product-details-main .syndigo-shadowed-powerpage");e&&e.shadowRoot&&$(e.shadowRoot.querySelector(".syndi_powerpage")).on("click",".wc-document-view-link, .wc-document-download-link",function(){dataLayer.push({event:"documentView",documentName:$(this).closest(".wc-doc-wrapper").find(".wc-doc-title").text(),viewType:$(this).contents().get(0).nodeValue})})},pdpAddToWishlist:function(){dataLayer.push({productID:$(".product-details-main").data("master"),productName:$("h1.product-name").text(),event:"addToWishlist"})},cartAddToWishlist:function(e){dataLayer.push({productID:e.data("master"),productName:e.data("name"),event:"addToWishlist"})},plpAddToWishlist:function(e){dataLayer.push({productID:e.closest(".product").data("pid"),productName:e.parents(".product-tile").find(".pdp-link a").attr("title"),event:"addToWishlist"})},estimateShipRate:function(){dataLayer.push({event:"estimateShipping"})},applyCoupon:function(a){var n="";a.totals&&a.totals.discounts&&$.each(a.totals.discounts,function(e,t){t.couponCode===a.couponCode&&(n=t.applied?"Applied":"Not Applied")}),dataLayer.push({event:"couponCodeApplied",codeApplied:a.couponCode,messageDisplayed:n||(a.error?a.errorMessage:"")})},itemsRestricted:function(){dataLayer.push({event:"itemsCannotBeShipped"})},itemsRestrictedPlaceOrder:function(e){"shipping-restricted"===e.errorClass&&dataLayer.push({event:"itemsCannotBeShipped"})},removeFromCart:function(e){e=$('body .remove-line-item button[data-pid="'+e+'"]:first');dataLayer.push({event:"removeFromCart",ecommerce:{currencyCode:$("#gtm-attributes").data("currency-code"),remove:{products:[{name:e.data("name"),id:e.data("master"),price:e.data("price"),brand:e.data("brand"),category:e.data("category")}]}}})},storeLocatorSearch:function(e){dataLayer.push({event:"searchStores"})},selectFFL:function(){dataLayer.push({event:"FFLSelect"})},bypassFFL:function(){dataLayer.push({event:"FFLBypass"})},recommendations:function(){var i=$(".product-impressions, .js-pcr-carousel-2");0!==i.length&&i.each(function(){var a,n,r,e=$(this);e.find(".product-impression:not(.article)").length&&(a=[],n={},r=0,e.find(".product-impression:not(.article)").each(function(e,t){r||(n.event="productImpressions",n.ecommerce={},n.ecommerce.currencyCode=$("#gtm-attributes").data("currency-code"),a=[]),a.push({name:$(this).find(".product-tile").find(".pdp-link a").attr("title"),id:$(this).find(".product-tile").data("master"),price:$.trim($(this).find(".product-tile").find(".price .sales:first .value").attr("content")),category:$.trim($(this).find(".product-tile").data("category")),list:"category"===i.data("gtm-title")?$(this).find(".product-tile").data("breadcrumb"):"home page rec zone",position:void 0!==$(this).data("index")?$(this).data("index"):$(this).parents(".js-pcr-carousel-2").length?e+1:""}),12==++r&&(n.ecommerce.impressions=a,dataLayer.push(n),n={},r=0)}),Object.keys(n).length)&&(n.ecommerce.impressions=a,dataLayer.push(n))})},productClick:function(){$(document).on("click",".product-tile .pdp-link a, .product-tile .product-anchor",function(e){e.stopPropagation();var t,e=$(this).parents(".product-impression"),a={};a.event="productClick",a.ecommerce={},a.ecommerce.click={},a.ecommerce.click.actionField={},"category"===$(".container.product-impressions").data("gtm-title")?a.ecommerce.click.actionField.list=e.find(".product-tile").data("breadcrumb"):$(this).parents(".js-pcr-carousel-2").length?a.ecommerce.click.actionField.list="home page rec zone":a.ecommerce.click.actionField.list="Search",a.ecommerce.click.products=[],t=void 0!==e.data("index")?e.data("index"):void 0!==e.closest("[data-position]").data("position")?e.closest("[data-position]").data("position")+1:"",a.ecommerce.click.products.push({name:e.find(".product-tile").find(".pdp-link a").attr("title"),id:e.find(".product-tile").data("master"),price:$.trim(e.find(".product-tile").find(".price .sales:first .value").attr("content")),category:$.trim(e.find(".product-tile").data("category")),position:t}),dataLayer.push(a)})},quickView:function(e){var e=e.product,t={event:"productQuickview",ecommerce:{}},a=(t.ecommerce.currencyCode=$("#gtm-attributes").data("currency-code"),t.ecommerce.detail={},t.ecommerce.detail.actionField={},t.ecommerce.detail.actionField.list="",t.ecommerce.detail.products=[],"range"===e.price.type?e.price.min:e.price),n=(a.list||a.sales).value.toFixed(2),a=a.sales.value.toFixed(2),r=(parseInt(n,10)-parseInt(a,10)).toFixed(2);t.ecommerce.detail.products.push({name:e.productName||"",id:e.masterProductID,price:a,brand:e.brand||"",category:e.category,listPrice:n,variant:e.id,upc:e.UPC,mfrNumber:e.manufacturerName,availability:e.available?"In Stock":"Out of Stock",discountAmount:r}),dataLayer.push(t)},addToCart:function(t,e){var a,n,r=t.cart.items.filter(function(e){return e.UUID===t.pliUUID})[0],i="range"===r.price.type?r.price.min:r.price,o=(i.list||i.sales).value.toFixed(2),i=i.sales.value.toFixed(2);(parseInt(o,10)-parseInt(i,10)).toFixed(2),window.OG&&(n=document.querySelector('og-when[test="regularEligible"]'),document.querySelector("og-optin-button").shadowRoot.querySelector("button").classList.contains("active")?(n=(n=n.querySelector("og-select-frequency").shadowRoot.querySelector("og-select").shadowRoot.querySelector("select")).options[n.selectedIndex].value.split("_"),a=window.OG.store.getState().locale.frequencyPeriods[n[1]],a+=1<n[0]?"s":"",n=n[0]+" "+a,this.subscriptionUpdate("Subscription Opt In","Add to Cart"),dataLayer.push({event:"addToCart",ecommerce:{currencyCode:$("#gtm-attributes").data("currency-code"),add:{products:[{name:r.productName||"",id:r.masterProductID,price:i,brand:r.brand||"",category:r.categoryName,quantity:parseInt(e,10),dimension10:o,dimension11:r.reviewCount||"",dimension12:r.avgRating||"",dimension13:r.available?"in-stock":"out-of-stock",dimension14:r.id,dimension15:r.breadcrumblist||"",subscription_length:n}]}}})):(this.subscriptionUpdate("Subscription Opt Out","Add to Cart"),dataLayer.push({event:"addToCart",ecommerce:{currencyCode:$("#gtm-attributes").data("currency-code"),add:{products:[{name:r.productName||"",id:r.masterProductID,price:i,brand:r.brand||"",category:r.categoryName,quantity:parseInt(e,10),dimension10:o,dimension11:r.reviewCount||"",dimension12:r.avgRating||"",dimension13:r.available?"in-stock":"out-of-stock",dimension14:r.id,dimension15:r.breadcrumblist||""}]}}})))},signIn:function(){dataLayer.push({event:"signIn"})},accountCreation:function(){dataLayer.push({event:"accountCreated"})},compareProduct:function(){$("form.compare-products-form").submit(function(){var e=$(".compare-products-form").serializeArray(),a="",n="";$.each(e,function(e,t){-1<t.name.indexOf("pid")&&(a=a+t.value+"|",t=$('.product-impression .product[data-pid="'+t.value+'"]'),n=n+t.find(".pdp-link a").attr("title")+"|")}),a=a.slice(0,-1),n=n.slice(0,-1),dataLayer.push({event:"productCompare",productID:a,productName:n})})},setStore:function(e){dataLayer.push({event:"setStore",store:e})},applyCC:function(){$("body").on("click","[data-gtm-event] a",function(){$(this).closest("[data-gtm-event]").data("gtm-event")&&dataLayer.push({event:$(this).closest("[data-gtm-event]").data("gtm-event")})})},onsiteSearchEvents:function(){$(".suggestions-wrapper").on("click",".suggestions .product-suggestion",function(){dataLayer.push({event:"search",searchKeyword:$(this).find("span.name").text(),searchResults:1,searchType:"suggested term"})})},onsiteSearch:function(){0<$(".container.search-results").length&&0<$(".container.search-results").data("searchquery").length&&$(".filter-value").length<1&&dataLayer.push({event:"search",searchKeyword:$(".container.search-results").length&&$(".container.search-results").data("searchquery"),searchResults:$(".container.search-results").length&&$(".container.search-results").data("searchcount"),searchType:$(".container.search-results").length&&"search"===$(".container.search-results").data("gtm-title")||!$(".container.search-results").data("searchquery")?"standard":"suggested term"})},reCaptchaEvents:function(e){switch(e){case"myAccountView":dataLayer.push({event:"captcha_myaccount_view"});break;case"myAccountPass":dataLayer.push({event:"captcha_myaccount_pass"});break;case"myAccountFail":dataLayer.push({event:"captcha_myaccount_errorview"});break;case"checkoutView":dataLayer.push({event:"captcha_checkout_view"});break;case"myAccountCardAdded":dataLayer.push({event:"my_account_card_added"});break;case"checkoutPass":dataLayer.push({event:"captcha_checkout_pass"});break;case"checkoutFail":dataLayer.push({event:"captcha_checkout_errorview"})}},deliveryOptEvent:function(){dataLayer.push({event:"DeliveryText",action:"Opt In","deliveryPreference:":"P.C. Richard & Son Delivery"})},trackErrorMessage:function(e){e.event="errorMessage",dataLayer.push(e)},subscriptionUpdate:function(e,t){dataLayer.push({event:"ProductSubscription",eventCategory:"Subscription",eventAction:e,eventLabel:t})},productSubscriptionOnLoad:function(){var e;window.OG&&window.OG.store&&(e=window.location.href,1===Object.values(window.OG.store.getState().eligibilityGroups)[0].length)&&t.exports.subscriptionUpdate("Subscription Viewed",e)},initBespokeModal:function(e){e&&dataLayer.push({event:"Bespoke_SelectPanels",eventCategory:"Bespoke",eventAction:"Select Panels",eventLabel:e})},bespokeAddToCart:function(e){dataLayer.push({event:"Bespoke_AddToCart",eventCategory:"Bespoke",eventAction:"Add To Cart",eventLabel:e})}}},108:function(e,t,a){$(document).ready(function(){window.bvCallback=function(e){void 0!==e&&(e.reviews.on("show",function(){$(".row.reviews:not(.active)").toggleClass("active"),$("#reviews-collapsible").addClass("show")}),e.questions.on("show",function(){$(".row.questions:not(.active)").toggleClass("active")}))},setTimeout(function(){document.getElementById("data-bv-show").style.display="block"},1500)}),$(window).on("load",function(){a(1).productSubscriptionOnLoad()}),window.og&&window.og.offers&&window.og.offers.addOptinChangedCallback(function(e){e.productId,e.components,e.optedIn&&a(1).subscriptionUpdate("Subscription Opt In","pdp")})}});